<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿„è¯­å•è¯è®°å¿†è®­ç»ƒ</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Font Awesome å›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* æµ…ç°è‰²èƒŒæ™¯ */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px; /* å¢åŠ æ•´ä½“å†…è¾¹è· */
        }
        .card {
            background-color: #ffffff;
            border-radius: 1rem; /* åœ†è§’ */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1.5rem;
            min-height: 100px; /* æœ€å°é«˜åº¦ */
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }
        .card.flipped {
            background-color: #e0f2fe; /* ç¿»è½¬åçš„èƒŒæ™¯è‰² */
        }
        .card.matched {
            background-color: #d1fae5; /* åŒ¹é…åçš„èƒŒæ™¯è‰² */
            pointer-events: none; /* åŒ¹é…åä¸å¯ç‚¹å‡» */
            transform: scale(0.95);
            opacity: 0.7;
        }
        .card.selected {
            border: 3px solid #3b82f6; /* é€‰ä¸­æ—¶çš„è¾¹æ¡† */
        }
        .button-primary {
            background-color: #3b82f6; /* è“è‰² */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: inline-flex; /* ç¡®ä¿å›¾æ ‡å’Œæ–‡æœ¬å¯¹é½ */
            align-items: center;
            justify-content: center;
        }
        .button-primary:hover {
            background-color: #2563eb; /* æ·±è“è‰² */
            transform: translateY(-2px);
        }
        .button-primary:active {
            transform: translateY(0);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .mode-button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            background-color: #e2e8f0; /* æµ…ç°è‰² */
            color: #4a5568; /* æ·±ç°è‰²æ–‡æœ¬ */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .mode-button.active {
            background-color: #3b82f6;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .mode-button:hover:not(.active) {
            background-color: #cbd5e0; /* æ›´æµ…çš„ç°è‰² */
        }
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
            display: none; /* é»˜è®¤éšè— */
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .message-box.show {
            display: block;
            opacity: 1;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none; /* é»˜è®¤éšè— */
        }
        .overlay.show {
            display: block;
        }
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden; /* åˆå§‹éšè— */
            opacity: 0;
            transition: visibility 0s, opacity 0.3s ease-in-out;
        }
        .modal.show {
            visibility: visible;
            opacity: 1;
        }
        .modal-content {
            background-color: white;
            padding: 2.5rem;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 500px;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease-in-out;
        }
        .modal.show .modal-content {
            transform: translateY(0);
        }
        .close-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }
        .close-button:hover {
            color: #374151;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin-right: 8px; /* Space between spinner and text */
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .loading-text {
            color: #3b82f6;
        }
        .lookup-table th, .lookup-table td {
            padding: 0.5rem 1rem;
            border: 1px solid #e2e8f0;
            text-align: left;
        }
        .lookup-table th {
            background-color: #f8fafc;
            font-weight: 600;
        }

        /* Four Quadrant Specific Styles */
        .quadrant-section {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            margin-bottom: 1.5rem;
            text-align: left;
        }
        .quadrant-section h3 {
            font-size: 1.6rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e0f2fe;
            padding-bottom: 0.5rem;
        }
        .quadrant-section ul {
            list-style-type: disc;
            margin-left: 1.5rem;
        }
        .quadrant-section ol {
            list-style-type: decimal;
            margin-left: 1.5rem;
        }
        .quadrant-section p, .quadrant-section li {
            font-size: 1rem;
            line-height: 1.6;
            color: #4a5568;
            margin-bottom: 0.5rem;
        }
        .quadrant-section strong {
            color: #1a202c;
        }

        /* New styles for Fill-in-the-blanks with letter choices */
        .letter-choices {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-top: 1rem;
        }
        .letter-choice {
            background-color: #e2e8f0;
            color: #4a5568;
            padding: 8px 12px;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            user-select: none; /* Prevent text selection */
            min-width: 40px; /* Ensure a consistent size */
            text-align: center;
        }
        .letter-choice:hover {
            background-color: #cbd5e0;
            transform: translateY(-2px);
        }
        .letter-choice.selected {
            background-color: #3b82f6;
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .letter-choice.correct {
            background-color: #34d399; /* green-400 */
            color: white;
        }
        .letter-choice.incorrect {
            background-color: #ef4444; /* red-500 */
            color: white;
        }
        .fill-in-the-blank-word {
            display: inline-block;
            min-width: 80px; /* Adjust based on expected word length */
            border-bottom: 2px dashed #9ca3af; /* Gray dashed line */
            text-align: center;
            font-weight: bold;
            color: #2d3748; /* Dark gray for filled text */
            margin: 0 4px;
        }
        .fill-in-the-blank-word.correct {
            color: #34d399; /* Green for correct */
        }
        .fill-in-the-blank-word.incorrect {
            color: #ef4444; /* Red for incorrect */
        }
    </style>
</head>
<body>
    <!-- å¼¹çª—/æ¶ˆæ¯æ¡† -->
    <div id="messageBox" class="message-box">
        <p id="messageText" class="text-xl font-semibold mb-4"></p>
        <button id="messageBoxCloseBtn" class="button-primary">ç¡®å®š</button>
    </div>
    <div id="overlay" class="overlay"></div>

    <!-- AI ç”Ÿæˆæ—¶çš„å…¨å±€åŠ è½½åŠ¨ç”» -->
    <div id="globalLoadingOverlay" class="overlay">
        <div class="message-box show">
            <div class="flex items-center justify-center">
                <div class="loading-spinner"></div>
                <span class="loading-text ml-2">AI æ­£åœ¨ç”Ÿæˆå†…å®¹ï¼Œè¯·ç¨å€™...</span>
            </div>
        </div>
    </div>


    <!-- æ·»åŠ å•è¯æ¨¡æ€æ¡† -->
    <div id="addWordModal" class="modal">
        <div class="modal-content">
            <button class="close-button" id="closeAddWordModal">&times;</button>
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">æ·»åŠ è‡ªå®šä¹‰å•è¯</h2>
            <p class="text-gray-600 mb-4 text-center">
                ç”±äºæŠ€æœ¯é™åˆ¶ï¼Œç›®å‰æ— æ³•é€šè¿‡æ‹ç…§è¯†åˆ«æ·»åŠ å•è¯ã€‚<br>è¯·æ‰‹åŠ¨è¾“å…¥å•è¯åŠå…¶ç¿»è¯‘ã€‚
            </p>
            <div class="mb-4">
                <label for="russianInput" class="block text-gray-700 text-sm font-bold mb-2">ä¿„è¯­å•è¯:</label>
                <input type="text" id="russianInput" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="ä¾‹å¦‚: Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚">
            </div>
            <div class="mb-6">
                <label for="englishInput" class="block text-gray-700 text-sm font-bold mb-2">ä¸­æ–‡ç¿»è¯‘:</label>
                <input type="text" id="englishInput" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="ä¾‹å¦‚: ä½ å¥½">
            </div>
            <button id="addCustomWordBtn" class="button-primary w-full">æ·»åŠ å•è¯</button>
        </div>
    </div>

    <!-- ç›¸å…³å•è¯æ¨¡æ€æ¡† -->
    <div id="relatedWordsModal" class="modal">
        <div class="modal-content">
            <button class="close-button" id="closeRelatedWordsModal">&times;</button>
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">ç›¸å…³è¯æ±‡æ‹“å±• âœ¨</h2>
            <div id="relatedWordsList" class="text-gray-700 max-h-60 overflow-y-auto mb-4">
                <!-- ç›¸å…³å•è¯åˆ—è¡¨å°†åœ¨æ­¤å¤„åŠ è½½ -->
            </div>
            <button id="addSelectedRelatedWordsBtn" class="button-primary w-full bg-green-500 hover:bg-green-600">æ·»åŠ é€‰ä¸­å•è¯</button>
        </div>
    </div>

    <!-- å†™ä½œä¸»é¢˜æ¨¡æ€æ¡† -->
    <div id="writingTopicModal" class="modal">
        <div class="modal-content">
            <button class="close-button" id="closeWritingTopicModal">&times;</button>
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">é€‰æ‹©å†™ä½œä¸»é¢˜</h2>
            <div class="mb-4">
                <label for="topicInput" class="block text-gray-700 text-sm font-bold mb-2">è¾“å…¥ä¸»é¢˜ (å¯é€‰):</label>
                <input type="text" id="topicInput" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="ä¾‹å¦‚: æˆ‘çš„çˆ±å¥½">
            </div>
            <button id="generateNewTopicBtn" class="button-primary w-full bg-blue-500 hover:bg-blue-600 mb-4"><i class="fas fa-magic mr-2"></i> ç”Ÿæˆéšæœºä¸»é¢˜</button>
            <button id="startWritingBtn" class="button-primary w-full">å¼€å§‹å†™ä½œ</button>
        </div>
    </div>


    <div class="container mx-auto p-4 max-w-4xl w-full">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">ä¿„è¯­å•è¯è®°å¿†è®­ç»ƒ</h1>
            <p class="text-lg text-gray-600">é€‰æ‹©ä¸€ç§è®°å¿†æ–¹å¼ï¼Œå¼€å§‹å­¦ä¹ å§ï¼</p>
        </header>

        <!-- æ¨¡å¼é€‰æ‹©æŒ‰é’® -->
        <nav class="flex flex-wrap justify-center space-x-2 md:space-x-4 mb-8">
            <button id="flashcardModeBtn" class="mode-button active mb-2">æŠ½è®¤å¡</button>
            <button id="matchingGameModeBtn" class="mode-button mb-2">åŒ¹é…æ¸¸æˆ</button>
            <button id="speakingPracticeModeBtn" class="mode-button mb-2">å£è¯­ç»ƒä¹ </button>
            <button id="writingPracticeModeBtn" class="mode-button mb-2">å†™ä½œå­¦ä¹  âœ¨</button>
            <button id="wordLookupModeBtn" class="mode-button mb-2">è¯æ±‡æŸ¥è¯¢ ğŸ”</button>
            <button id="fourQuadrantModeBtn" class="mode-button bg-orange-500 hover:bg-orange-600 text-white mb-2"><i class="fas fa-brain mr-2"></i> å››è±¡é™èƒŒè¯æ³•</button>
            <button id="openAddWordModalBtn" class="mode-button bg-purple-500 hover:bg-purple-600 text-white mb-2"><i class="fas fa-plus mr-2"></i>æ·»åŠ å•è¯</button>
        </nav>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main id="gameArea" class="bg-white p-6 rounded-2xl shadow-xl flex flex-col items-center justify-center min-h-[400px] transition-all duration-300 ease-in-out fade-in">
            <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€åŠ è½½ -->
        </main>

        <footer class="text-center mt-8 text-gray-500">
            <p>&copy; 2025 ä¿„è¯­å•è¯è®°å¿†è®­ç»ƒ. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // è¯æ±‡æ•°æ® (ä» localStorage åŠ è½½æˆ–ä½¿ç”¨é»˜è®¤å€¼)
        let vocabulary = JSON.parse(localStorage.getItem('russianVocabulary')) || [
            { russian: "Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚", english: "ä½ å¥½" },
            { russian: "ÑĞ¿Ğ°ÑĞ¸Ğ±Ğ¾", english: "è°¢è°¢" },
            { russian: "Ğ´Ğ¾ ÑĞ²Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ", english: "å†è§" },
            { russian: "Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°", english: "è¯·/ä¸å®¢æ°”" },
            { russian: "Ğ´Ğ°", english: "æ˜¯" },
            { russian: "Ğ½ĞµÑ‚", english: "ä¸" },
            { russian: "Ğ»ÑĞ±Ğ¾Ğ²ÑŒ", english: "çˆ±" },
            { russian: "Ğ¼Ğ¸Ñ€", english: "å’Œå¹³/ä¸–ç•Œ" },
            { russian: "Ğ²Ğ¾Ğ´Ğ°", english: "æ°´" },
            { russian: "Ñ…Ğ»ĞµĞ±", english: "é¢åŒ…" },
            { russian: "ĞºĞ½Ğ¸Ğ³Ğ°", english: "ä¹¦" },
            { russian: "Ğ³Ğ¾Ñ€Ğ¾Ğ´", english: "åŸå¸‚" },
            { russian: "ÑƒÑ‚Ñ€Ğ¾", english: "æ—©æ™¨" },
            { russian: "Ğ²ĞµÑ‡ĞµÑ€", english: "å¤œæ™š" },
            { russian: "Ğ´ĞµĞ½ÑŒ", english: "ç™½å¤©" },
            { russian: "Ğ½Ğ¾Ñ‡ÑŒ", english: "å¤œæ™š" },
            { russian: "Ğ´Ñ€ÑƒĞ³", english: "æœ‹å‹" },
            { russian: "ÑĞµĞ¼ÑŒÑ", english: "å®¶åº­" },
            { russian: "ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğ¹", english: "ç¾ä¸½çš„" },
            { russian: "Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾", english: "å¥½çš„" },
            { russian: "ÑƒÑ‡ĞµĞ½Ğ¸Ğº", english: "å­¦ç”Ÿ" },
            { russian: "ÑƒÑ‡Ğ¸Ñ‚ĞµĞ»ÑŒ", english: "è€å¸ˆ" },
            { russian: "ÑˆĞºĞ¾Ğ»Ğ°", english: "å­¦æ ¡" },
            { russian: "ÑƒÑ€Ğ¾Ğº", english: "è¯¾" },
            { russian: "Ğ´Ğ¾Ğ¼", english: "å®¶" },
            { russian: "ÑÑ‚Ğ¾Ğ»", english: "æ¡Œå­" },
            { russian: "ÑÑ‚ÑƒĞ»", english: "æ¤…å­" },
            { russian: "Ğ¾ĞºĞ½Ğ¾", english: "çª—æˆ·" },
            { russian: "Ğ´Ğ²ĞµÑ€ÑŒ", english: "é—¨" },
            { russian: "ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ°", english: "æˆ¿é—´" },
            { russian: "Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ°", english: "æ±½è½¦" },
            { russian: "ÑƒĞ»Ğ¸Ñ†Ğ°", english: "è¡—é“" },
            { russian: "Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ", english: "å¹¿åœº" },
            { russian: "Ğ¿Ğ°Ñ€Ğº", english: "å…¬å›­" },
            { russian: "Ğ´ĞµÑ€ĞµĞ²Ğ¾", english: "æ ‘" },
            { russian: "Ñ†Ğ²ĞµÑ‚Ğ¾Ğº", english: "èŠ±" },
            { russian: "ÑĞ¾Ğ»Ğ½Ñ†Ğµ", english: "å¤ªé˜³" },
            { russian: "Ğ»ÑƒĞ½Ğ°", english: "æœˆäº®" },
            { russian: "Ğ·Ğ²ĞµĞ·Ğ´Ğ°", english: "æ˜Ÿæ˜Ÿ" },
            { russian: "Ğ½ĞµĞ±Ğ¾", english: "å¤©ç©º" },
            { russian: "Ğ·ĞµĞ¼Ğ»Ñ", english: "åœ°çƒ" },
            { russian: "ÑÑ‚Ñ€Ğ°Ğ½Ğ°", english: "å›½å®¶" },
            { russian: "ÑĞ·Ñ‹Ğº", english: "è¯­è¨€" },
            { russian: "Ñ€ÑƒÑÑĞºĞ¸Ğ¹", english: "ä¿„è¯­çš„/ä¿„ç½—æ–¯äºº" },
            { russian: "Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹", english: "è‹±è¯­çš„/è‹±å›½äºº" },
            { russian: "ĞºĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¸Ğ¹", english: "æ±‰è¯­çš„/ä¸­å›½äºº" },
            { russian: "Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº", english: "äºº" },
            { russian: "Ğ¶ĞµĞ½Ñ‰Ğ¸Ğ½Ğ°", english: "å¥³äºº" },
            { russian: "Ğ¼ÑƒĞ¶Ñ‡Ğ¸Ğ½Ğ°", english: "ç”·äºº" },
            { russian: "Ñ€ĞµĞ±Ñ‘Ğ½Ğ¾Ğº", english: "å­©å­" },
            { russian: "Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»Ğ¸", english: "çˆ¶æ¯" },
            { russian: "Ğ±Ñ€Ğ°Ñ‚", english: "å…„å¼Ÿ" },
            { russian: "ÑĞµÑÑ‚Ñ€Ğ°", english: "å§å¦¹" },
            { russian: "ÑÑ‹Ğ½", english: "å„¿å­" },
            { russian: "Ğ´Ğ¾Ñ‡ÑŒ", english: "å¥³å„¿" },
            { russian: "Ğ±Ğ°Ğ±ÑƒÑˆĞºĞ°", english: "å¥¶å¥¶/å¤–å©†" },
            { russian: "Ğ´ĞµĞ´ÑƒÑˆĞºĞ°", english: "çˆ·çˆ·/å¤–å…¬" },
            { russian: "Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°", english: "å·¥ä½œ" },
            { russian: "Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½", english: "å•†åº—" },
            { russian: "Ğ´ĞµĞ½ÑŒĞ³Ğ¸", english: "é’±" },
            { russian: "ĞµĞ´Ğ°", english: "é£Ÿç‰©" },
            { russian: "Ğ¿Ğ¸Ñ‚ÑŒ", english: "å–" },
            { russian: "ĞµÑÑ‚ÑŒ", english: "åƒ" },
            { russian: "ÑĞ¿Ğ°Ñ‚ÑŒ", english: "ç¡è§‰" },
            { russian: "Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ", english: "è¯»" },
            { russian: "Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ", english: "å†™" },
            { russian: "Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ÑŒ", english: "è¯´" },
            { russian: "ÑĞ»ÑƒÑˆĞ°Ñ‚ÑŒ", english: "å¬" },
            { russian: "ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ", english: "çœ‹" },
            { russian: "Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ", english: "åš" },
            { russian: "Ğ¸Ğ´Ñ‚Ğ¸", english: "èµ°" },
            { russian: "ĞµÑ…Ğ°Ñ‚ÑŒ", english: "ä¹˜è½¦" },
            { russian: "Ğ·Ğ½Ğ°Ñ‚ÑŒ", english: "çŸ¥é“" },
            { russian: "Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ", english: "ç†è§£" },
            { russian: "Ñ…Ğ¾Ñ‚ĞµÑ‚ÑŒ", english: "æƒ³è¦" },
            { russian: "Ğ»ÑĞ±Ğ¸Ñ‚ÑŒ", english: "çˆ±" },
            { russian: "Ğ¶Ğ¸Ñ‚ÑŒ", english: "å±…ä½" },
            { russian: "Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ", english: "å·¥ä½œ" },
            { russian: "ÑƒÑ‡Ğ¸Ñ‚ÑŒÑÑ", english: "å­¦ä¹ " },
            { russian: "Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°Ñ‚ÑŒ", english: "ä¼‘æ¯" },
            { russian: "Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ°", english: "å¤©æ°”" },
            { russian: "Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¾", english: "å†·" },
            { russian: "Ñ‚ĞµĞ¿Ğ»Ğ¾", english: "æš–å’Œ" },
            { russian: "Ğ¶Ğ°Ñ€ĞºĞ¾", english: "çƒ­" },
            { russian: "Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾", english: "å¥½" },
            { russian: "Ğ¿Ğ»Ğ¾Ñ…Ğ¾", english: "å" },
            { russian: "Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹", english: "å¤§çš„" },
            { russian: "Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğ¹", english: "å°çš„" },
            { russian: "Ğ½Ğ¾Ğ²Ñ‹Ğ¹", english: "æ–°çš„" },
            { russian: "ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹", english: "è€çš„" },
            { russian: "Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ğ¾Ğ¹", english: "å¹´è½»çš„" },
            { russian: "ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğ¹", english: "ç¾ä¸½çš„" },
            { russian: "Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ñ‹Ğ¹", english: "æœ‰è¶£çš„" },
            { russian: "ÑĞºÑƒÑ‡Ğ½Ñ‹Ğ¹", english: "æ— èŠçš„" },
            { russian: "ÑÑ‡Ğ°ÑÑ‚Ğ»Ğ¸Ğ²Ñ‹Ğ¹", english: "å¹¸ç¦çš„" },
            { russian: "Ğ³Ñ€ÑƒÑÑ‚Ğ½Ñ‹Ğ¹", english: "æ‚²ä¼¤çš„" },
            { russian: "Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾", english: "å¿«åœ°" },
            { russian: "Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾", english: "æ…¢åœ°" },
            { russian: "Ğ¼Ğ½Ğ¾Ğ³Ğ¾", english: "è®¸å¤š" },
            { russian: "Ğ¼Ğ°Ğ»Ğ¾", english: "å¾ˆå°‘" },
            { russian: "Ğ²ÑĞµĞ³Ğ´Ğ°", english: "æ€»æ˜¯" },
            { russian: "Ğ½Ğ¸ĞºĞ¾Ğ³Ğ´Ğ°", english: "ä»ä¸" },
            { russian: "ÑĞµĞ¹Ñ‡Ğ°Ñ", english: "ç°åœ¨" },
            { russian: "Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼", english: "ç„¶å" },
            { russian: "Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°", english: "æ˜å¤©" },
            { russian: "Ğ²Ñ‡ĞµÑ€Ğ°", english: "æ˜¨å¤©" },
            { russian: "ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ", english: "ä»Šå¤©" },
            { russian: "Ğ·Ğ´ĞµÑÑŒ", english: "è¿™é‡Œ" },
            { russian: "Ñ‚Ğ°Ğ¼", english: "é‚£é‡Œ" },
            { russian: "ĞºÑƒĞ´Ğ°", english: "å»å“ªé‡Œ" },
            { russian: "Ğ¾Ñ‚ĞºÑƒĞ´Ğ°", english: "ä»å“ªé‡Œ" },
            { russian: "ĞºĞ°Ğº", english: "æ€æ ·" },
            { russian: "ĞºĞ¾Ğ³Ğ´Ğ°", english: "ä½•æ—¶" },
            { russian: "Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ", english: "ä¸ºä»€ä¹ˆ" },
            { russian: "Ñ‡Ñ‚Ğ¾", english: "ä»€ä¹ˆ" },
            { russian: "ĞºÑ‚Ğ¾", english: "è°" },
            { russian: "Ğ³Ğ´Ğµ", english: "åœ¨å“ªé‡Œ" },
            { russian: "ĞºĞ°ĞºĞ¾Ğ¹", english: "ä»€ä¹ˆæ ·çš„" },
            { russian: "ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹", english: "å“ªä¸ª" },
            { russian: "ÑĞºĞ¾Ğ»ÑŒĞºĞ¾", english: "å¤šå°‘" },
            { russian: "ÑÑ‚Ğ¾", english: "è¿™ä¸ª" },
            { russian: "Ñ‚Ğ¾Ñ‚", english: "é‚£ä¸ª" },
            { russian: "Ğ¼Ğ¾Ğ¹", english: "æˆ‘çš„" },
            { russian: "Ñ‚Ğ²Ğ¾Ğ¹", english: "ä½ çš„" },
            { russian: "Ğ½Ğ°Ñˆ", english: "æˆ‘ä»¬çš„" },
            { russian: "Ğ²Ğ°Ñˆ", english: "ä½ ä»¬çš„/æ‚¨çš„" },
            { russian: "Ğ¸Ñ…", english: "ä»–ä»¬çš„" },
            { russian: "ĞµĞ³Ğ¾", english: "ä»–çš„/å®ƒçš„" },
            { russian: "ĞµÑ‘", english: "å¥¹çš„" },
            { russian: "Ğ¸", english: "å’Œ" },
            { russian: "Ğ½Ğ¾", english: "ä½†æ˜¯" },
            { russian: "Ğ¸Ğ»Ğ¸", english: "æˆ–è€…" },
            { russian: "Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾", english: "å› ä¸º" },
            { russian: "ĞµÑĞ»Ğ¸", english: "å¦‚æœ" },
            { russian: "Ñ‡Ñ‚Ğ¾Ğ±Ñ‹", english: "ä¸ºäº†" },
            { russian: "Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğµ", english: "ä»¥å…" },
            { russian: "Ñ…Ğ¾Ñ‚Ñ", english: "è™½ç„¶" },
            { russian: "Ñ‚Ğ°Ğº ĞºĞ°Ğº", english: "ç”±äº" },
            { russian: "Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ", english: "å› æ­¤" },
            { russian: "Ñ‚Ğ°ĞºĞ¶Ğµ", english: "ä¹Ÿ" },
            { russian: "Ğ¾Ñ‡ĞµĞ½ÑŒ", english: "éå¸¸" },
            { russian: "ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼", english: "å¤ª" },
            { russian: "Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸", english: "å‡ ä¹" },
            { russian: "Ğ´Ğ°Ğ»ĞµĞºĞ¾", english: "è¿œ" },
            { russian: "Ğ±Ğ»Ğ¸Ğ·ĞºĞ¾", english: "è¿‘" },
            { russian: "Ğ½Ğ°Ğ»ĞµĞ²Ğ¾", english: "å‘å·¦" },
            { russian: "Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ¾", english: "å‘å³" },
            { russian: "Ğ¿Ñ€ÑĞ¼Ğ¾", english: "ç›´èµ°" },
            { russian: "Ğ²Ğ²ĞµÑ€Ñ…", english: "å‘ä¸Š" },
            { russian: "Ğ²Ğ½Ğ¸Ğ·", english: "å‘ä¸‹" },
            { russian: "Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸", english: "åœ¨é‡Œé¢" },
            { russian: "ÑĞ½Ğ°Ñ€ÑƒĞ¶Ğ¸", english: "åœ¨å¤–é¢" },
            { russian: "Ñ€ÑĞ´Ğ¾Ğ¼", english: "æ—è¾¹" },
            { russian: "Ğ¿ĞµÑ€ĞµĞ´", english: "å‰é¢" },
            { russian: "Ğ¿Ğ¾ÑĞ»Ğµ", english: "åé¢" },
            { russian: "Ğ´Ğ¾", english: "ç›´åˆ°" },
            { russian: "Ğ±ĞµĞ·", english: "æ²¡æœ‰" },
            { russian: "Ğ´Ğ»Ñ", english: "ä¸ºäº†" },
            { russian: "Ğ¸Ğ·", english: "ä»...å‡ºæ¥" },
            { russian: "Ğ½Ğ°", english: "åœ¨...ä¸Š/åˆ°...ä¸Š" },
            { russian: "Ğ¾", english: "å…³äº" },
            { russian: "Ğ¾Ñ‚", english: "ä»...èµ·" },
            { russian: "Ğ¿Ğ¾", english: "æ²¿ç€/æ ¹æ®" },
            { russian: "Ğ¿Ğ¾Ğ´", english: "åœ¨...ä¸‹é¢" },
            { russian: "Ğ¿Ñ€Ğ¸", english: "åœ¨...æ—è¾¹/åœ¨...æ—¶" },
            { russian: "Ñ", english: "å’Œ/ä»" },
            { russian: "Ñƒ", english: "åœ¨...æ—è¾¹/æœ‰" },
            { russian: "Ñ‡ĞµÑ€ĞµĞ·", english: "ç©¿è¿‡/é€šè¿‡" },
            { russian: "Ñ", english: "æˆ‘" },
            { russian: "Ñ‚Ñ‹", english: "ä½ " },
            { russian: "Ğ¾Ğ½", english: "ä»–" },
            { russian: "Ğ¾Ğ½Ğ°", english: "å¥¹" },
            { russian: "Ğ¾Ğ½Ğ¾", english: "å®ƒ" },
            { russian: "Ğ¼Ñ‹", english: "æˆ‘ä»¬" },
            { russian: "Ğ²Ñ‹", english: "ä½ ä»¬/æ‚¨" },
            { russian: "Ğ¾Ğ½Ğ¸", english: "ä»–ä»¬" },
            { russian: "Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ", english: "å†™" },
            { russian: "Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ", english: "è¯»" },
            { russian: "Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ÑŒ", english: "è¯´" },
            { russian: "Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ", english: "ç†è§£" },
            { russian: "Ğ·Ğ½Ğ°Ñ‚ÑŒ", english: "çŸ¥é“" },
            { russian: "Ğ´ÑƒĞ¼Ğ°Ñ‚ÑŒ", english: "æ€è€ƒ" },
            { russian: "Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ", english: "å·¥ä½œ" },
            { russian: "ÑƒÑ‡Ğ¸Ñ‚ÑŒÑÑ", english: "å­¦ä¹ " },
            { russian: "Ğ¶Ğ¸Ñ‚ÑŒ", english: "ç”Ÿæ´»" },
            { russian: "Ğ»ÑĞ±Ğ¸Ñ‚ÑŒ", english: "çˆ±" },
            { russian: "Ñ…Ğ¾Ñ‚ĞµÑ‚ÑŒ", english: "æƒ³è¦" },
            { russian: "Ğ¼Ğ¾Ñ‡ÑŒ", english: "èƒ½å¤Ÿ" },
            { russian: "Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½", english: "åº”è¯¥/å¿…é¡»" },
            { russian: "Ğ½ÑƒĞ¶Ğ½Ğ¾", english: "éœ€è¦" },
            { russian: "Ğ¼Ğ¾Ğ¶Ğ½Ğ¾", english: "å¯ä»¥" },
            { russian: "Ğ½ĞµĞ»ÑŒĞ·Ñ", english: "ä¸å¯ä»¥" },
            { russian: "Ğ²Ñ€ĞµĞ¼Ñ", english: "æ—¶é—´" },
            { russian: "Ğ³Ğ¾Ğ´", english: "å¹´" },
            { russian: "Ğ¼ĞµÑÑÑ†", english: "æœˆ" },
            { russian: "Ğ½ĞµĞ´ĞµĞ»Ñ", english: "å‘¨" },
            { russian: "Ñ‡Ğ°Ñ", english: "å°æ—¶" },
            { russian: "Ğ¼Ğ¸Ğ½ÑƒÑ‚Ğ°", english: "åˆ†é’Ÿ" },
            { russian: "ÑĞµĞºÑƒĞ½Ğ´Ğ°", english: "ç§’" },
            { russian: "ÑƒÑ‚Ñ€Ğ¾", english: "æ—©æ™¨" },
            { russian: "Ğ´ĞµĞ½ÑŒ", english: "ç™½å¤©" },
            { russian: "Ğ²ĞµÑ‡ĞµÑ€", english: "æ™šä¸Š" },
            { russian: "Ğ½Ğ¾Ñ‡ÑŒ", english: "å¤œæ™š" },
            { russian: "Ğ¿Ğ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº", english: "æ˜ŸæœŸä¸€" },
            { russian: "Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº", english: "æ˜ŸæœŸäºŒ" },
            { russian: "ÑÑ€ĞµĞ´Ğ°", english: "æ˜ŸæœŸä¸‰" },
            { russian: "Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ğ³", english: "æ˜ŸæœŸå››" },
            { russian: "Ğ¿ÑÑ‚Ğ½Ğ¸Ñ†Ğ°", english: "æ˜ŸæœŸäº”" },
            { russian: "ÑÑƒĞ±Ğ±Ğ¾Ñ‚Ğ°", english: "æ˜ŸæœŸå…­" },
            { russian: "Ğ²Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ", english: "æ˜ŸæœŸæ—¥" },
            { russian: "ÑĞ½Ğ²Ğ°Ñ€ÑŒ", english: "ä¸€æœˆ" },
            { russian: "Ñ„ĞµĞ²Ñ€Ğ°Ğ»ÑŒ", english: "äºŒæœˆ" },
            { russian: "Ğ¼Ğ°Ñ€Ñ‚", english: "ä¸‰æœˆ" },
            { russian: "Ğ°Ğ¿Ñ€ĞµĞ»ÑŒ", english: "å››æœˆ" },
            { russian: "Ğ¼Ğ°Ğ¹", english: "äº”æœˆ" },
            { russian: "Ğ¸ÑĞ½ÑŒ", english: "å…­æœˆ" },
            { russian: "Ğ¸ÑĞ»ÑŒ", english: "ä¸ƒæœˆ" },
            { russian: "Ğ°Ğ²Ğ³ÑƒÑÑ‚", english: "å…«æœˆ" },
            { russian: "ÑĞµĞ½Ñ‚ÑĞ±Ñ€ÑŒ", english: "ä¹æœˆ" },
            { russian: "Ğ¾ĞºÑ‚ÑĞ±Ñ€ÑŒ", english: "åæœˆ" },
            { russian: "Ğ½Ğ¾ÑĞ±Ñ€ÑŒ", english: "åä¸€æœˆ" },
            { russian: "Ğ´ĞµĞºĞ°Ğ±Ñ€ÑŒ", english: "åäºŒæœˆ" },
            { russian: "Ğ²ĞµÑĞ½Ğ°", english: "æ˜¥å¤©" },
            { russian: "Ğ»ĞµÑ‚Ğ¾", english: "å¤å¤©" },
            { russian: "Ğ¾ÑĞµĞ½ÑŒ", english: "ç§‹å¤©" },
            { russian: "Ğ·Ğ¸Ğ¼Ğ°", english: "å†¬å¤©" },
            { russian: "Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ°Ñ", english: "å¥½çš„ (é˜´æ€§)" },
            { russian: "Ğ¿Ğ»Ğ¾Ñ…Ğ¾Ğ¹", english: "åçš„ (é˜³æ€§)" },
            { russian: "Ğ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ", english: "å¤§çš„ (é˜´æ€§)" },
            { russian: "Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ°Ñ", english: "å°çš„ (é˜´æ€§)" },
            { russian: "Ğ½Ğ¾Ğ²Ñ‹Ğ¹", english: "æ–°çš„ (é˜³æ€§)" },
            { russian: "ÑÑ‚Ğ°Ñ€Ğ°Ñ", english: "è€çš„ (é˜´æ€§)" },
            { russian: "Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ğ°Ñ", english: "å¹´è½»çš„ (é˜´æ€§)" },
            { russian: "ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ°Ñ", english: "ç¾ä¸½çš„ (é˜´æ€§)" },
            { russian: "Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ğ°Ñ", english: "æœ‰è¶£çš„ (é˜´æ€§)" },
            { russian: "ÑĞºÑƒÑ‡Ğ½Ğ°Ñ", english: "æ— èŠçš„ (é˜´æ€§)" },
            { russian: "ÑÑ‡Ğ°ÑÑ‚Ğ»Ğ¸Ğ²Ğ°Ñ", english: "å¹¸ç¦çš„ (é˜´æ€§)" },
            { russian: "Ğ³Ñ€ÑƒÑÑ‚Ğ½Ğ°Ñ", english: "æ‚²ä¼¤çš„ (é˜´æ€§)" },
            { russian: "Ñ‡Ğ¸ÑĞ»Ğ¾", english: "æ•°å­—/æ—¥æœŸ" },
            { russian: "Ñ€Ğ°Ğ·", english: "æ¬¡/å›" },
            { russian: "Ğ´Ğ²Ğ°", english: "äºŒ" },
            { russian: "Ñ‚Ñ€Ğ¸", english: "ä¸‰" },
            { russian: "Ñ‡ĞµÑ‚Ñ‹Ñ€Ğµ", english: "å››" },
            { russian: "Ğ¿ÑÑ‚ÑŒ", english: "äº”" },
            { russian: "ÑˆĞµÑÑ‚ÑŒ", english: "å…­" },
            { russian: "ÑĞµĞ¼ÑŒ", english: "ä¸ƒ" },
            { russian: "Ğ²Ğ¾ÑĞµĞ¼ÑŒ", english: "å…«" },
            { russian: "Ğ´ĞµĞ²ÑÑ‚ÑŒ", english: "ä¹" },
            { russian: "Ğ´ĞµÑÑÑ‚ÑŒ", english: "å" },
            { russian: "Ğ¾Ğ´Ğ¸Ğ½Ğ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ", english: "åä¸€" },
            { russian: "Ğ´Ğ²ĞµĞ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ", english: "åäºŒ" },
            { russian: "Ñ‚Ñ€Ğ¸Ğ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ", english: "åä¸‰" },
            { russian: "Ñ‡ĞµÑ‚Ñ‹Ñ€Ğ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ", english: "åå››" },
            { russian: "Ğ¿ÑÑ‚Ğ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ", english: "åäº”" },
            { russian: "Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ", english: "äºŒå" },
            { russian: "ÑÑ‚Ğ¾", english: "ä¸€ç™¾" },
            { russian: "Ñ‚Ñ‹ÑÑÑ‡Ğ°", english: "ä¸€åƒ" },
            { russian: "Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½", english: "ä¸€ç™¾ä¸‡" },
            { russian: "Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹", english: "ç¬¬ä¸€" },
            { russian: "Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹", english: "ç¬¬äºŒ" },
            { russian: "Ñ‚Ñ€ĞµÑ‚Ğ¸Ğ¹", english: "ç¬¬ä¸‰" },
            { russian: "Ñ‡ĞµÑ‚Ğ²Ñ‘Ñ€Ñ‚Ñ‹Ğ¹", english: "ç¬¬å››" },
            { russian: "Ğ¿ÑÑ‚Ñ‹Ğ¹", english: "ç¬¬äº”" },
            { russian: "ÑˆĞµÑÑ‚Ğ¾Ğ¹", english: "ç¬¬å…­" },
            { russian: "ÑĞµĞ´ÑŒĞ¼Ğ¾Ğ¹", english: "ç¬¬ä¸ƒ" },
            { russian: "Ğ²Ğ¾ÑÑŒĞ¼Ğ¾Ğ¹", english: "ç¬¬å…«" },
            { russian: "Ğ´ĞµĞ²ÑÑ‚Ñ‹Ğ¹", english: "ç¬¬ä¹" },
            { russian: "Ğ´ĞµÑÑÑ‚Ñ‹Ğ¹", english: "ç¬¬å" },
            { russian: "ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°", english: "å…¬å¯“" },
            { russian: "Ğ±Ğ¾Ğ»ÑŒĞ½Ğ¸Ñ†Ğ°", english: "åŒ»é™¢" },
            { russian: "Ğ²Ğ¾ĞºĞ·Ğ°Ğ»", english: "è½¦ç«™" },
            { russian: "Ğ¼ÑƒĞ·ĞµĞ¹", english: "åšç‰©é¦†" },
            { russian: "Ñ‚ĞµĞ°Ñ‚Ñ€", english: "å‰§é™¢" },
            { russian: "ĞºĞ¸Ğ½Ğ¾", english: "ç”µå½±é™¢" },
            { russian: "Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½", english: "é¤å…" },
            { russian: "ĞºĞ°Ñ„Ğµ", english: "å’–å•¡é¦†" },
            { russian: "Ğ±Ğ°Ğ½Ğº", english: "é“¶è¡Œ" },
            { russian: "Ğ¿Ğ¾Ñ‡Ñ‚Ğ°", english: "é‚®å±€" },
            { russian: "Ğ¿Ğ¾Ğ»Ğ¸Ñ†Ğ¸Ñ", english: "è­¦å¯Ÿå±€" },
            { russian: "Ğ°Ğ¿Ñ‚ĞµĞºĞ°", english: "è¯åº—" },
            { russian: "Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ°", english: "å›¾ä¹¦é¦†" },
            { russian: "ĞºĞ»ÑƒĞ±", english: "ä¿±ä¹éƒ¨" },
            { russian: "ĞºĞ¾Ğ½Ñ†ĞµÑ€Ñ‚", english: "éŸ³ä¹ä¼š" },
            { russian: "Ğ¾Ğ¿ĞµÑ€Ğ°", english: "æ­Œå‰§" },
            { russian: "Ğ±Ğ°Ğ»ĞµÑ‚", english: "èŠ­è•¾" },
            { russian: "Ğ²Ñ‹ÑÑ‚Ğ°Ğ²ĞºĞ°", english: "å±•è§ˆ" },
            { russian: "ÑĞºÑĞºÑƒÑ€ÑĞ¸Ñ", english: "æ¸¸è§ˆ" },
            { russian: "Ğ¿ÑƒÑ‚ĞµÑˆĞµÑÑ‚Ğ²Ğ¸Ğµ", english: "æ—…è¡Œ" },
            { russian: "Ğ±Ğ¸Ğ»ĞµÑ‚", english: "ç¥¨" },
            { russian: "Ğ¿Ğ°ÑĞ¿Ğ¾Ñ€Ñ‚", english: "æŠ¤ç…§" },
            { russian: "Ğ²Ğ¸Ğ·Ğ°", english: "ç­¾è¯" },
            { russian: "Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°", english: "è¾¹ç•Œ" },
            { russian: "Ğ°ÑÑ€Ğ¾Ğ¿Ğ¾Ñ€Ñ‚", english: "æœºåœº" },
            { russian: "ÑĞ°Ğ¼Ğ¾Ğ»Ñ‘Ñ‚", english: "é£æœº" },
            { russian: "Ğ¿Ğ¾ĞµĞ·Ğ´", english: "ç«è½¦" },
            { russian: "Ğ°Ğ²Ñ‚Ğ¾Ğ±ÑƒÑ", english: "å…¬äº¤è½¦" },
            { russian: "Ñ‚Ğ°ĞºÑĞ¸", english: "å‡ºç§Ÿè½¦" },
            { russian: "Ğ¼ĞµÑ‚Ñ€Ğ¾", english: "åœ°é“" },
            { russian: "Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°", english: "è½¦ç«™/ç«™å°" },
            { russian: "Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğ°", english: "è·¯" },
            { russian: "Ğ¼Ğ¾ÑÑ‚", english: "æ¡¥" },
            { russian: "Ñ€ĞµĞºĞ°", english: "æ²³æµ" },
            { russian: "Ğ¾Ğ·ĞµÑ€Ğ¾", english: "æ¹–æ³Š" },
            { russian: "Ğ¼Ğ¾Ñ€Ğµ", english: "å¤§æµ·" },
            { russian: "Ğ¾ĞºĞµĞ°Ğ½", english: "æµ·æ´‹" },
            { russian: "Ğ³Ğ¾Ñ€Ğ°", english: "å±±" },
            { russian: "Ğ»ĞµÑ", english: "æ£®æ—" },
            { russian: "Ğ¿Ğ¾Ğ»Ğµ", english: "ç”°é‡" },
            { russian: "ÑĞ°Ğ´", english: "èŠ±å›­" },
            { russian: "Ñ„ĞµÑ€Ğ¼Ğ°", english: "å†œåœº" },
            { russian: "Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ", english: "åŠ¨ç‰©" },
            { russian: "ÑĞ¾Ğ±Ğ°ĞºĞ°", english: "ç‹—" },
            { russian: "ĞºĞ¾ÑˆĞºĞ°", english: "çŒ«" },
            { russian: "Ğ¿Ñ‚Ğ¸Ñ†Ğ°", english: "é¸Ÿ" },
            { russian: "Ñ€Ñ‹Ğ±Ğ°", english: "é±¼" },
            { russian: "Ğ·Ğ²ĞµÑ€ÑŒ", english: "é‡å…½" },
            { russian: "Ğ½Ğ°ÑĞµĞºĞ¾Ğ¼Ğ¾Ğµ", english: "æ˜†è™«" },
            { russian: "Ñ„Ñ€ÑƒĞºÑ‚", english: "æ°´æœ" },
            { russian: "ÑĞ±Ğ»Ğ¾ĞºĞ¾", english: "è‹¹æœ" },
            { russian: "Ğ±Ğ°Ğ½Ğ°Ğ½", english: "é¦™è•‰" },
            { russian: "Ğ°Ğ¿ĞµĞ»ÑŒÑĞ¸Ğ½", english: "æ©™å­" },
            { russian: "Ğ»Ğ¸Ğ¼Ğ¾Ğ½", english: "æŸ æª¬" },
            { russian: "Ğ²Ğ¸Ğ½Ğ¾Ğ³Ñ€Ğ°Ğ´", english: "è‘¡è„" },
            { russian: "Ğ¾Ğ²Ğ¾Ñ‰", english: "è”¬èœ" },
            { russian: "ĞºĞ°Ñ€Ñ‚Ğ¾Ñ„ĞµĞ»ÑŒ", english: "åœŸè±†" },
            { russian: "Ğ¼Ğ¾Ñ€ĞºĞ¾Ğ²ÑŒ", english: "èƒ¡èåœ" },
            { russian: "Ğ¿Ğ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€", english: "è¥¿çº¢æŸ¿" },
            { russian: "Ğ¾Ğ³ÑƒÑ€ĞµÑ†", english: "é»„ç“œ" },
            { russian: "ĞºĞ°Ğ¿ÑƒÑÑ‚Ğ°", english: "å·å¿ƒèœ" },
            { russian: "Ğ¼ÑÑĞ¾", english: "è‚‰" },
            { russian: "ĞºÑƒÑ€Ğ¸Ñ†Ğ°", english: "é¸¡è‚‰" },
            { russian: "Ñ€Ñ‹Ğ±Ğ°", english: "é±¼è‚‰" },
            { russian: "Ñ…Ğ»ĞµĞ±", english: "é¢åŒ…" },
            { russian: "ÑÑ‹Ñ€", english: "å¥¶é…ª" },
            { russian: "Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾", english: "ç‰›å¥¶" },
            { russian: "Ñ‡Ğ°Ğ¹", english: "èŒ¶" },
            { russian: "ĞºĞ¾Ñ„Ğµ", english: "å’–å•¡" },
            { russian: "ÑĞ¾Ğº", english: "æœæ±" },
            { russian: "Ğ²Ğ¾Ğ´Ğ°", english: "æ°´" },
            { russian: "Ğ²Ğ¸Ğ½Ğ¾", english: "è‘¡è„é…’" },
            { russian: "Ğ¿Ğ¸Ğ²Ğ¾", english: "å•¤é…’" },
            { russian: "Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°Ğº", english: "æ—©é¤" },
            { russian: "Ğ¾Ğ±ĞµĞ´", english: "åˆé¤" },
            { russian: "ÑƒĞ¶Ğ¸Ğ½", english: "æ™šé¤" },
            { russian: "Ğ±Ğ»ÑĞ´Ğ¾", english: "èœè‚´" },
            { russian: "Ğ²ĞºÑƒÑĞ½Ñ‹Ğ¹", english: "ç¾å‘³çš„" },
            { russian: "ÑĞ»Ğ°Ğ´ĞºĞ¸Ğ¹", english: "ç”œçš„" },
            { russian: "ÑĞ¾Ğ»Ñ‘Ğ½Ñ‹Ğ¹", english: "å’¸çš„" },
            { russian: "ĞºĞ¸ÑĞ»Ñ‹Ğ¹", english: "é…¸çš„" },
            { russian: "Ğ³Ğ¾Ñ€ÑŒĞºĞ¸Ğ¹", english: "è‹¦çš„" },
            { russian: "Ğ¾ÑÑ‚Ñ€Ñ‹Ğ¹", english: "è¾£çš„" },
            { russian: "Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ñ‹Ğ¹", english: "å†·çš„" },
            { russian: "Ğ³Ğ¾Ñ€ÑÑ‡Ğ¸Ğ¹", english: "çƒ­çš„" },
            { russian: "Ğ½Ğ¾Ğ²Ñ‹Ğ¹", english: "æ–°çš„" },
            { russian: "ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹", english: "è€çš„" },
            { russian: "Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ğ¾Ğ¹", english: "å¹´è½»çš„" },
            { russian: "ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹ (Ğ¾ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞºĞµ)", english: "å¹´è€çš„" },
            { russian: "Ğ±Ğ¾Ğ³Ğ°Ñ‚Ñ‹Ğ¹", english: "å¯Œæœ‰çš„" },
            { russian: "Ğ±ĞµĞ´Ğ½Ñ‹Ğ¹", english: "è´«ç©·çš„" },
            { russian: "ÑĞ¸Ğ»ÑŒĞ½Ñ‹Ğ¹", english: "å¼ºå£®çš„" },
            { russian: "ÑĞ»Ğ°Ğ±Ñ‹Ğ¹", english: "è™šå¼±çš„" },
            { russian: "ÑƒĞ¼Ğ½Ñ‹Ğ¹", english: "èªæ˜çš„" },
            { russian: "Ğ³Ğ»ÑƒĞ¿Ñ‹Ğ¹", english: "æ„šè ¢çš„" },
            { russian: "Ğ´Ğ¾Ğ±Ñ€Ñ‹Ğ¹", english: "å–„è‰¯çš„" },
            { russian: "Ğ·Ğ»Ğ¾Ğ¹", english: "é‚ªæ¶çš„" },
            { russian: "Ğ²ĞµÑÑ‘Ğ»Ñ‹Ğ¹", english: "å¿«ä¹çš„" },
            { russian: "Ğ³Ñ€ÑƒÑÑ‚Ğ½Ñ‹Ğ¹", english: "æ‚²ä¼¤çš„" },
            { russian: "Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹", english: "å¹²å‡€çš„" },
            { russian: "Ğ³Ñ€ÑĞ·Ğ½Ñ‹Ğ¹", english: "è„çš„" },
            { russian: "ÑĞ²ĞµÑ‚Ğ»Ñ‹Ğ¹", english: "æ˜äº®çš„" },
            { russian: "Ñ‚Ñ‘Ğ¼Ğ½Ñ‹Ğ¹", english: "é»‘æš—çš„" },
            { russian: "Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹", english: "å¿«çš„" },
            { russian: "Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹", english: "æ…¢çš„" },
            { russian: "Ñ‚ÑĞ¶Ñ‘Ğ»Ñ‹Ğ¹", english: "é‡çš„/å›°éš¾çš„" },
            { russian: "Ğ»Ñ‘Ğ³ĞºĞ¸Ğ¹", english: "è½»çš„/å®¹æ˜“çš„" },
            { russian: "Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹", english: "é«˜çš„" },
            { russian: "Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹", english: "ä½çš„" },
            { russian: "ÑˆĞ¸Ñ€Ğ¾ĞºĞ¸Ğ¹", english: "å®½çš„" },
            { russian: "ÑƒĞ·ĞºĞ¸Ğ¹", english: "çª„çš„" },
            { russian: "Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹", english: "é•¿çš„" },
            { russian: "ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹", english: "çŸ­çš„" },
            { russian: "ĞºÑ€ÑƒĞ³Ğ»Ñ‹Ğ¹", english: "åœ†çš„" },
            { russian: "ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹", english: "æ–¹çš„" },
            { russian: "Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹", english: "é•¿æ–¹å½¢çš„" },
            { russian: "Ñ‚Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹", english: "ä¸‰è§’å½¢çš„" },
            { russian: "Ñ†Ğ²ĞµÑ‚", english: "é¢œè‰²" },
            { russian: "Ğ±ĞµĞ»Ñ‹Ğ¹", english: "ç™½è‰²" },
            { russian: "Ñ‡Ñ‘Ñ€Ğ½Ñ‹Ğ¹", english: "é»‘è‰²" },
            { russian: "ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹", english: "çº¢è‰²" },
            { russian: "Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹", english: "ç»¿è‰²" },
            { russian: "ÑĞ¸Ğ½Ğ¸Ğ¹", english: "è“è‰²" },
            { russian: "Ğ¶Ñ‘Ğ»Ñ‚Ñ‹Ğ¹", english: "é»„è‰²" },
            { russian: "ĞºĞ¾Ñ€Ğ¸Ñ‡Ğ½ĞµĞ²Ñ‹Ğ¹", english: "æ£•è‰²" },
            { russian: "ÑĞµÑ€Ñ‹Ğ¹", english: "ç°è‰²" },
            { russian: "Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹", english: "æ©™è‰²" },
            { russian: "Ñ€Ğ¾Ğ·Ğ¾Ğ²Ñ‹Ğ¹", english: "ç²‰è‰²" },
            { russian: "Ñ„Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹", english: "ç´«è‰²" },
            { russian: "Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ğ¾Ğ¹", english: "é‡‘è‰²" },
            { russian: "ÑĞµÑ€ĞµĞ±Ñ€ÑĞ½Ñ‹Ğ¹", english: "é“¶è‰²" },
            { russian: "Ñ€ÑƒĞºĞ°", english: "æ‰‹" },
            { russian: "Ğ½Ğ¾Ğ³Ğ°", english: "è…¿/è„š" },
            { russian: "Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ°", english: "å¤´" },
            { russian: "Ğ»Ğ¸Ñ†Ğ¾", english: "è„¸" },
            { russian: "Ğ³Ğ»Ğ°Ğ·", english: "çœ¼ç›" },
            { russian: "ÑƒÑ…Ğ¾", english: "è€³æœµ" },
            { russian: "Ğ½Ğ¾Ñ", english: "é¼»å­" },
            { russian: "Ñ€Ğ¾Ñ‚", english: "å˜´å·´" },
            { russian: "Ğ·ÑƒĞ±", english: "ç‰™é½¿" },
            { russian: "Ğ²Ğ¾Ğ»Ğ¾Ñ", english: "å¤´å‘" },
            { russian: "Ñ‚ĞµĞ»Ğ¾", english: "èº«ä½“" },
            { russian: "ÑĞµÑ€Ğ´Ñ†Ğµ", english: "å¿ƒè„" },
            { russian: "Ğ´ÑƒÑˆĞ°", english: "çµé­‚" },
            { russian: "Ğ¶Ğ¸Ğ·Ğ½ÑŒ", english: "ç”Ÿå‘½" },
            { russian: "ÑĞ¼ĞµÑ€Ñ‚ÑŒ", english: "æ­»äº¡" },
            { russian: "Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ", english: "å¥åº·" },
            { russian: "Ğ±Ğ¾Ğ»ĞµĞ·Ğ½ÑŒ", english: "ç–¾ç—…" },
            { russian: "Ğ´Ğ¾ĞºÑ‚Ğ¾Ñ€", english: "åŒ»ç”Ÿ" },
            { russian: "Ğ»ĞµĞºĞ°Ñ€ÑÑ‚Ğ²Ğ¾", english: "è¯" },
            { russian: "Ğ±Ğ¾Ğ»ÑŒ", english: "ç–¼ç—›" },
            { russian: "Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°", english: "æ¸©åº¦/ä½“æ¸©" },
            { russian: "ĞºĞ°ÑˆĞµĞ»ÑŒ", english: "å’³å—½" },
            { russian: "Ğ½Ğ°ÑĞ¼Ğ¾Ñ€Ğº", english: "æµé¼»æ¶•" },
            { russian: "Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ°Ñ Ğ±Ğ¾Ğ»ÑŒ", english: "å¤´ç—›" },
            { russian: "Ğ¶Ğ¸Ğ²Ğ¾Ñ‚", english: "è‚šå­" },
            { russian: "ÑĞ¿Ğ¸Ğ½Ğ°", english: "èƒŒéƒ¨" },
            { russian: "Ğ³Ğ¾Ñ€Ğ»Ğ¾", english: "å–‰å’™" },
            { russian: "ÑƒÑÑ‚Ğ°Ğ»Ğ¾ÑÑ‚ÑŒ", english: "ç–²åŠ³" },
            { russian: "ÑĞ¸Ğ»Ğ°", english: "åŠ›é‡" },
            { russian: "ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ", english: "ç²¾åŠ›" },
            { russian: "ÑĞ¾Ğ½", english: "ç¡çœ /æ¢¦" },
            { russian: "Ğ¾Ñ‚Ğ´Ñ‹Ñ…", english: "ä¼‘æ¯" },
            { russian: "ÑĞ¿Ğ¾Ñ€Ñ‚", english: "è¿åŠ¨" },
            { russian: "Ğ¸Ğ³Ñ€Ğ°", english: "æ¸¸æˆ/ç©è€" },
            { russian: "Ğ¼ÑƒĞ·Ñ‹ĞºĞ°", english: "éŸ³ä¹" },
            { russian: "Ğ¿ĞµÑĞ½Ñ", english: "æ­Œæ›²" },
            { russian: "Ñ‚Ğ°Ğ½ĞµÑ†", english: "èˆè¹ˆ" },
            { russian: "Ñ„Ğ¸Ğ»ÑŒĞ¼", english: "ç”µå½±" },
            { russian: "ĞºĞ½Ğ¸Ğ³Ğ°", english: "ä¹¦" },
            { russian: "Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»", english: "æ‚å¿—" },
            { russian: "Ğ³Ğ°Ğ·ĞµÑ‚Ğ°", english: "æŠ¥çº¸" },
            { russian: "ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€", english: "ç”µè„‘" },
            { russian: "Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚", english: "äº’è”ç½‘" },
            { russian: "Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½", english: "ç”µè¯" },
            { russian: "Ñ‚ĞµĞ»ĞµĞ²Ğ¸Ğ·Ğ¾Ñ€", english: "ç”µè§†" },
            { russian: "Ñ€Ğ°Ğ´Ğ¸Ğ¾", english: "æ”¶éŸ³æœº" },
            { russian: "Ñ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ", english: "ç…§ç‰‡" },
            { russian: "ĞºĞ°Ğ¼ĞµÑ€Ğ°", english: "ç›¸æœº" },
            { russian: "Ğ¿Ğ¾Ğ´Ğ°Ñ€Ğ¾Ğº", english: "ç¤¼ç‰©" },
            { russian: "Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ğº", english: "èŠ‚æ—¥" },
            { russian: "Ğ´ĞµĞ½ÑŒ Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ", english: "ç”Ÿæ—¥" },
            { russian: "Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ³Ğ¾Ğ´", english: "æ–°å¹´" },
            { russian: "Ñ€Ğ¾Ğ¶Ğ´ĞµÑÑ‚Ğ²Ğ¾", english: "åœ£è¯èŠ‚" },
            { russian: "Ğ¿Ğ°ÑÑ…Ğ°", english: "å¤æ´»èŠ‚" },
            { russian: "ÑĞ²Ğ°Ğ´ÑŒĞ±Ğ°", english: "å©šç¤¼" },
            { russian: "ÑĞ±Ğ¸Ğ»ĞµĞ¹", english: "å‘¨å¹´çºªå¿µ" },
            { russian: "Ğ³Ğ¾ÑÑ‚ÑŒ", english: "å®¢äºº" },
            { russian: "Ğ´Ñ€ÑƒĞ³", english: "æœ‹å‹" },
            { russian: "Ñ€Ğ¾Ğ´ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¸Ğº", english: "äº²æˆš" },
            { russian: "ÑĞ¾ÑĞµĞ´", english: "é‚»å±…" },
            { russian: "ĞºĞ¾Ğ»Ğ»ĞµĞ³Ğ°", english: "åŒäº‹" },
            { russian: "Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¸Ğº", english: "è€æ¿" },
            { russian: "Ğ¿Ğ¾Ğ´Ñ‡Ğ¸Ğ½Ñ‘Ğ½Ğ½Ñ‹Ğ¹", english: "ä¸‹å±" },
            { russian: "ĞºĞ»Ğ¸ĞµĞ½Ñ‚", english: "å®¢æˆ·" },
            { russian: "Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ†", english: "å”®è´§å‘˜" },
            { russian: "Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒ", english: "é¡¾å®¢" },
            { russian: "Ñ†ĞµĞ½Ğ°", english: "ä»·æ ¼" },
            { russian: "ÑĞºĞ¸Ğ´ĞºĞ°", english: "æŠ˜æ‰£" },
            { russian: "ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾", english: "è´¨é‡" },
            { russian: "Ñ€Ğ°Ğ·Ğ¼ĞµÑ€", english: "å°ºå¯¸" },
            { russian: "Ñ†Ğ²ĞµÑ‚", english: "é¢œè‰²" },
            { russian: "Ğ¼Ğ¾Ğ´Ğ°", english: "æ—¶å°š" },
            { russian: "ÑÑ‚Ğ¸Ğ»ÑŒ", english: "é£æ ¼" },
            { russian: "Ğ¾Ğ´ĞµĞ¶Ğ´Ğ°", english: "è¡£æœ" },
            { russian: "Ğ¾Ğ±ÑƒĞ²ÑŒ", english: "é‹å­" },
            { russian: "Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑƒĞ±Ğ¾Ñ€", english: "å¸½å­" },
            { russian: "ÑÑƒĞ¼ĞºĞ°", english: "åŒ…" },
            { russian: "ÑƒĞºÑ€Ğ°ÑˆĞµĞ½Ğ¸Ğµ", english: "é¥°å“" },
            { russian: "ĞºĞ°Ñ€Ğ¼Ğ°Ğ½", english: "å£è¢‹" },
            { russian: "Ğ·Ğ¾Ğ½Ñ‚", english: "ä¼" },
            { russian: "Ğ¿ĞµÑ€Ñ‡Ğ°Ñ‚ĞºĞ¸", english: "æ‰‹å¥—" },
            { russian: "ÑˆĞ°Ñ€Ñ„", english: "å›´å·¾" },
            { russian: "Ğ³Ğ°Ğ»ÑÑ‚ÑƒĞº", english: "é¢†å¸¦" },
            { russian: "Ñ€ĞµĞ¼ĞµĞ½ÑŒ", english: "çš®å¸¦" },
            { russian: "ĞºĞ¾ÑÑ‚ÑĞ¼", english: "è¥¿è£…" },
            { russian: "Ğ¿Ğ»Ğ°Ñ‚ÑŒĞµ", english: "è¿è¡£è£™" },
            { russian: "Ñ€ÑƒĞ±Ğ°ÑˆĞºĞ°", english: "è¡¬è¡«" },
            { russian: "Ğ±Ñ€ÑĞºĞ¸", english: "è£¤å­" },
            { russian: "ÑĞ±ĞºĞ°", english: "è£™å­" },
            { russian: "Ñ„ÑƒÑ‚Ğ±Ğ¾Ğ»ĞºĞ°", english: "Tæ¤" },
            { russian: "ÑĞ²Ğ¸Ñ‚ĞµÑ€", english: "æ¯›è¡£" },
            { russian: "Ğ¿Ğ°Ğ»ÑŒÑ‚Ğ¾", english: "å¤–å¥—" },
            { russian: "ĞºÑƒÑ€Ñ‚ĞºĞ°", english: "å¤¹å…‹" },
            { russian: "ÑˆÑƒĞ±Ğ°", english: "çš®å¤§è¡£" },
            { russian: "Ğ¿ĞµÑ€Ñ‡Ğ°Ñ‚ĞºĞ¸", english: "æ‰‹å¥—" },
            { russian: "ÑĞ°Ğ¿Ğ¾Ğ³Ğ¸", english: "é´å­" },
            { russian: "Ñ‚ÑƒÑ„Ğ»Ğ¸", english: "çš®é‹" },
            { russian: "ĞºÑ€Ğ¾ÑÑĞ¾Ğ²ĞºĞ¸", english: "è¿åŠ¨é‹" },
            { russian: "Ñ‚Ğ°Ğ¿Ğ¾Ñ‡ĞºĞ¸", english: "æ‹–é‹" },
            { russian: "Ğ½Ğ¾ÑĞºĞ¸", english: "è¢œå­" },
            { russian: "Ñ‡ÑƒĞ»ĞºĞ¸", english: "é•¿ç­’è¢œ" },
            { russian: "Ğ±ĞµĞ»ÑŒĞµ", english: "å†…è¡£" },
            { russian: "Ğ¿Ğ¸Ğ¶Ğ°Ğ¼Ğ°", english: "ç¡è¡£" },
            { russian: "ĞºÑƒĞ¿Ğ°Ğ»ÑŒĞ½Ğ¸Ğº", english: "æ³³è¡£" },
            { russian: "Ğ¿Ğ»Ğ°Ğ²ĞºĞ¸", english: "æ³³è£¤" }
        ];

        // å°†è¯æ±‡æ•°æ®ä¿å­˜åˆ° localStorage
        function saveVocabulary() {
            localStorage.setItem('russianVocabulary', JSON.stringify(vocabulary));
        }

        // è·å– DOM å…ƒç´ 
        const gameArea = document.getElementById('gameArea');
        const flashcardModeBtn = document.getElementById('flashcardModeBtn');
        const matchingGameModeBtn = document.getElementById('matchingGameModeBtn');
        const speakingPracticeModeBtn = document.getElementById('speakingPracticeModeBtn');
        const writingPracticeModeBtn = document.getElementById('writingPracticeModeBtn');
        const wordLookupModeBtn = document.getElementById('wordLookupModeBtn');
        const fourQuadrantModeBtn = document.getElementById('fourQuadrantModeBtn'); // æ–°å¢å››è±¡é™æ¨¡å¼æŒ‰é’®
        const openAddWordModalBtn = document.getElementById('openAddWordModalBtn');

        const messageBox = document.getElementById('messageBox');
        const messageText = document.getElementById('messageText');
        const messageBoxCloseBtn = document.getElementById('messageBoxCloseBtn');
        const overlay = document.getElementById('overlay');
        const globalLoadingOverlay = document.getElementById('globalLoadingOverlay'); // å…¨å±€åŠ è½½åŠ¨ç”»

        const addWordModal = document.getElementById('addWordModal');
        const closeAddWordModalBtn = document.getElementById('closeAddWordModal');
        const russianInput = document.getElementById('russianInput');
        const englishInput = document.getElementById('englishInput');
        const addCustomWordBtn = document.getElementById('addCustomWordBtn');

        const relatedWordsModal = document.getElementById('relatedWordsModal');
        const closeRelatedWordsModalBtn = document.getElementById('closeRelatedWordsModal');
        const relatedWordsList = document.getElementById('relatedWordsList');
        const addSelectedRelatedWordsBtn = document.getElementById('addSelectedRelatedWordsBtn');

        const writingTopicModal = document.getElementById('writingTopicModal');
        const closeWritingTopicModalBtn = document.getElementById('closeWritingTopicModal');
        const topicInput = document.getElementById('topicInput');
        const generateNewTopicBtn = document.getElementById('generateNewTopicBtn');
        const startWritingBtn = document.getElementById('startWritingBtn');


        let currentMode = 'flashcard'; // åˆå§‹æ¨¡å¼
        let currentWordIndex = 0; // æŠ½è®¤å¡æ¨¡å¼çš„å½“å‰å•è¯ç´¢å¼•
        let matchingCards = []; // åŒ¹é…æ¸¸æˆæ¨¡å¼ä¸­é€‰ä¸­çš„å¡ç‰‡
        let matchedPairs = 0; // åŒ¹é…æ¸¸æˆæ¨¡å¼ä¸­å·²åŒ¹é…çš„å¯¹æ•°
        let shuffledWords = []; // æ‰“ä¹±åçš„å•è¯æ•°ç»„

        let currentWritingTopic = ''; // å½“å‰å†™ä½œä¸»é¢˜
        let writingTopics = [
            "æè¿°ä½ çš„ä¸€å¤©",
            "ä½ æœ€å–œæ¬¢çš„çˆ±å¥½æ˜¯ä»€ä¹ˆï¼Ÿ",
            "ä»‹ç»ä½ çš„å®¶ä¹¡",
            "è°ˆè°ˆä½ ä¸ºä»€ä¹ˆå­¦ä¹ ä¿„è¯­",
            "è®¡åˆ’ä¸€æ¬¡æ—…è¡Œ",
            "æè¿°ä¸€ä¸ªéš¾å¿˜çš„ç»å†",
            "ä½ å¯¹æœªæ¥æœ‰ä»€ä¹ˆè®¡åˆ’ï¼Ÿ",
            "è°ˆè°ˆä½ æœ€å–œæ¬¢çš„é£Ÿç‰©æˆ–èœè‚´",
            "æè¿°ä½ ç†æƒ³ä¸­çš„å‘¨æœ«",
            "ä½ å¦‚ä½•ä¿æŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼ï¼Ÿ"
        ];


        // Speech Recognition (è¯­éŸ³è¯†åˆ«) å®ä¾‹
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        let recognition = null;
        if (SpeechRecognition) {
            recognition = new SpeechRecognition();
            recognition.continuous = false; // ä¸æŒç»­è¯†åˆ«
            recognition.lang = 'ru-RU'; // è®¾ç½®è¯†åˆ«è¯­è¨€ä¸ºä¿„è¯­
            recognition.interimResults = false; // åªè¿”å›æœ€ç»ˆç»“æœ
        } else {
            console.warn("å½“å‰æµè§ˆå™¨ä¸æ”¯æŒ Web Speech API çš„ SpeechRecognition åŠŸèƒ½ã€‚å£è¯­ç»ƒä¹ åŠŸèƒ½å°†ä¸å¯ç”¨ã€‚");
            speakingPracticeModeBtn.disabled = true; // ç¦ç”¨æŒ‰é’®
            speakingPracticeModeBtn.textContent = "å£è¯­ç»ƒä¹  (ä¸æ”¯æŒ)";
            speakingPracticeModeBtn.classList.add('opacity-50', 'cursor-not-allowed');
        }

        // æ˜¾ç¤ºæ¶ˆæ¯æ¡†
        function showMessageBox(message) {
            messageText.textContent = message;
            messageBox.classList.add('show');
            overlay.classList.add('show');
        }

        // éšè—æ¶ˆæ¯æ¡†
        function hideMessageBox() {
            messageBox.classList.remove('show');
            overlay.classList.remove('show');
        }

        // æ¶ˆæ¯æ¡†å…³é—­æŒ‰é’®äº‹ä»¶
        messageBoxCloseBtn.addEventListener('click', hideMessageBox);

        // æ˜¾ç¤ºå…¨å±€åŠ è½½åŠ¨ç”»
        function showGlobalLoading() {
            globalLoadingOverlay.classList.add('show');
        }

        // éšè—å…¨å±€åŠ è½½åŠ¨ç”»
        function hideGlobalLoading() {
            globalLoadingOverlay.classList.remove('show');
        }

        // æ˜¾ç¤ºæ·»åŠ å•è¯æ¨¡æ€æ¡†
        openAddWordModalBtn.addEventListener('click', () => {
            addWordModal.classList.add('show');
            russianInput.value = '';
            englishInput.value = '';
        });

        // å…³é—­æ·»åŠ å•è¯æ¨¡æ€æ¡†
        closeAddWordModalBtn.addEventListener('click', () => {
            addWordModal.classList.remove('show');
        });

        // æ·»åŠ è‡ªå®šä¹‰å•è¯
        addCustomWordBtn.addEventListener('click', () => {
            const russian = russianInput.value.trim();
            const english = englishInput.value.trim();

            if (russian && english) {
                // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
                const exists = vocabulary.some(word => word.russian.toLowerCase() === russian.toLowerCase());
                if (exists) {
                    showMessageBox('æ­¤å•è¯å·²å­˜åœ¨äºè¯æ±‡è¡¨ä¸­ï¼');
                    return;
                }
                vocabulary.push({ russian, english });
                saveVocabulary(); // ä¿å­˜åˆ° localStorage
                showMessageBox('å•è¯ "' + russian + ' - ' + english + '" å·²æ·»åŠ ï¼');
                addWordModal.classList.remove('show');
                // é‡æ–°åŠ è½½å½“å‰æ¨¡å¼ä»¥åŒ…å«æ–°å•è¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
                switchMode(currentMode);
            } else {
                showMessageBox('è¯·å¡«å†™ä¿„è¯­å•è¯å’Œä¸­æ–‡ç¿»è¯‘ï¼');
            }
        });

        // å…³é—­ç›¸å…³å•è¯æ¨¡æ€æ¡†
        closeRelatedWordsModalBtn.addEventListener('click', () => {
            relatedWordsModal.classList.remove('show');
        });

        // æ·»åŠ é€‰ä¸­ç›¸å…³å•è¯
        addSelectedRelatedWordsBtn.addEventListener('click', () => {
            const checkboxes = relatedWordsList.querySelectorAll('input[type="checkbox"]:checked');
            let addedCount = 0;
            checkboxes.forEach(checkbox => {
                const russian = checkbox.dataset.russian;
                const english = checkbox.dataset.english;
                // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
                const exists = vocabulary.some(vocabWord => vocabWord.russian.toLowerCase() === russian.toLowerCase());
                if (!exists) {
                    vocabulary.push({ russian, english });
                    addedCount++;
                }
            });
            if (addedCount > 0) {
                saveVocabulary();
                showMessageBox(`å·²æ·»åŠ  ${addedCount} ä¸ªæ–°å•è¯åˆ°ä½ çš„è¯æ±‡è¡¨ï¼`);
                switchMode(currentMode); // åˆ·æ–°å½“å‰æ¨¡å¼ä»¥æ›´æ–°è¯æ±‡
            } else {
                showMessageBox('æ²¡æœ‰æ–°çš„å•è¯è¢«æ·»åŠ ã€‚');
            }
            relatedWordsModal.classList.remove('show');
        });

        // å†™ä½œä¸»é¢˜æ¨¡æ€æ¡†ç›¸å…³é€»è¾‘
        closeWritingTopicModalBtn.addEventListener('click', () => {
            writingTopicModal.classList.remove('show');
        });

        generateNewTopicBtn.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * writingTopics.length);
            topicInput.value = writingTopics[randomIndex];
        });

        startWritingBtn.addEventListener('click', () => {
            currentWritingTopic = topicInput.value.trim();
            writingTopicModal.classList.remove('show');
            loadWritingPracticeModeContent(currentWritingTopic); // åŠ è½½å†™ä½œç»ƒä¹ ä¸»ç•Œé¢
        });


        // æ‰“ä¹±æ•°ç»„çš„ Fisher-Yates (Knuth) ç®—æ³•
        function shuffleArray(array) {
            // Create a shallow copy to avoid modifying the original array reference,
            // though in this context, the LLM-generated array is new each time.
            const newArray = [...array]; 
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]]; // äº¤æ¢å…ƒç´ 
            }
            return newArray;
        }

        // LLM è°ƒç”¨å‡½æ•°
        async function callGeminiAPI(prompt, schema = null) {
            showGlobalLoading(); // æ˜¾ç¤ºå…¨å±€åŠ è½½åŠ¨ç”»
            const chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };

            if (schema) {
                payload.generationConfig = {
                    responseMimeType: "application/json",
                    responseSchema: schema
                };
            }

            const apiKey = ""; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    if (schema) {
                        try {
                            const parsedResult = JSON.parse(text);
                            hideGlobalLoading(); // éšè—å…¨å±€åŠ è½½åŠ¨ç”»
                            return parsedResult;
                        } catch (e) {
                            console.error("JSON parsing error:", e);
                            console.error("Received text:", text);
                            hideGlobalLoading(); // éšè—å…¨å±€åŠ è½½åŠ¨ç”»
                            showMessageBox("AI ç”Ÿæˆå†…å®¹æ ¼å¼é”™è¯¯ï¼Œè¯·ç¨åå†è¯•ã€‚");
                            return null;
                        }
                    }
                    hideGlobalLoading(); // éšè—å…¨å±€åŠ è½½åŠ¨ç”»
                    return text; // For plain text responses
                } else {
                    console.error("Gemini API returned unexpected structure or empty content:", result);
                    hideGlobalLoading(); // éšè—å…¨å±€åŠ è½½åŠ¨ç”»
                    showMessageBox("AI æœªèƒ½ç”Ÿæˆæœ‰æ•ˆå†…å®¹ï¼Œè¯·ç¨åå†è¯•ã€‚");
                    return null;
                }
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                hideGlobalLoading(); // éšè—å…¨å±€åŠ è½½åŠ¨ç”»
                showMessageBox("è¿æ¥ AI æœåŠ¡å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ç¨åå†è¯•ã€‚");
                return null;
            }
        }

        // æŠ½è®¤å¡æ¨¡å¼
        function loadFlashcardMode() {
            gameArea.innerHTML = `
                <div id="flashcard" class="card w-full max-w-md h-64 flex flex-col justify-center items-center relative transition-all duration-300 ease-in-out transform hover:scale-105">
                    <div id="front" class="absolute inset-0 flex justify-center items-center text-gray-800 text-4xl font-bold p-4"></div>
                    <div id="back" class="absolute inset-0 flex justify-center items-center text-blue-700 text-3xl font-semibold p-4 hidden"></div>
                </div>
                <div class="flex flex-wrap justify-center space-x-2 md:space-x-4 mt-8">
                    <button id="prevWordBtn" class="button-primary mb-2"><i class="fas fa-arrow-left mr-2"></i> ä¸Šä¸€ä¸ª</button>
                    <button id="nextWordBtn" class="button-primary mb-2">ä¸‹ä¸€ä¸ª <i class="fas fa-arrow-right ml-2"></i></button>
                    <button id="getWordInfoBtn" class="button-primary bg-yellow-500 hover:bg-yellow-600 mb-2">è·å–æ›´å¤šä¿¡æ¯ âœ¨</button>
                    <button id="getRelatedWordsBtn" class="button-primary bg-teal-500 hover:bg-teal-600 mb-2">ç”Ÿæˆç›¸å…³å•è¯ âœ¨</button>
                </div>
                <div id="wordInfoDisplay" class="mt-6 p-4 bg-gray-50 rounded-lg shadow-inner w-full max-w-md text-left text-gray-700 min-h-[50px]">
                    <!-- å•è¯ä¿¡æ¯å°†åœ¨æ­¤å¤„æ˜¾ç¤º -->
                </div>
            `;
            const flashcard = document.getElementById('flashcard');
            const front = document.getElementById('front');
            const back = document.getElementById('back');
            const prevWordBtn = document.getElementById('prevWordBtn');
            const nextWordBtn = document.getElementById('nextWordBtn');
            const getWordInfoBtn = document.getElementById('getWordInfoBtn');
            const getRelatedWordsBtn = document.getElementById('getRelatedWordsBtn');
            const wordInfoDisplay = document.getElementById('wordInfoDisplay');

            shuffledWords = shuffleArray([...vocabulary]); // æ‰“ä¹±å•è¯é¡ºåº
            currentWordIndex = 0;

            function updateFlashcard() {
                wordInfoDisplay.innerHTML = ''; // æ¸…ç©ºä¹‹å‰çš„ä¿¡æ¯
                if (shuffledWords.length === 0) {
                    front.textContent = "æš‚æ— å•è¯";
                    back.textContent = "è¯·æ·»åŠ å•è¯";
                    prevWordBtn.disabled = true;
                    nextWordBtn.disabled = true;
                    getWordInfoBtn.disabled = true; // ç¦ç”¨ LLM æŒ‰é’®
                    getRelatedWordsBtn.disabled = true; // ç¦ç”¨ LLM æŒ‰é’®
                    flashcard.style.pointerEvents = 'none';
                    return;
                } else {
                    prevWordBtn.disabled = false;
                    nextWordBtn.disabled = false;
                    getWordInfoBtn.disabled = false;
                    getRelatedWordsBtn.disabled = false;
                    flashcard.style.pointerEvents = 'auto';
                }
                const word = shuffledWords[currentWordIndex];
                front.textContent = word.russian;
                back.textContent = word.english;
                flashcard.classList.remove('flipped'); // ç¡®ä¿å¡ç‰‡æ­£é¢æœä¸Š
                front.classList.remove('hidden');
                back.classList.add('hidden');
            }

            flashcard.addEventListener('click', () => {
                if (shuffledWords.length === 0) return;
                flashcard.classList.toggle('flipped');
                front.classList.toggle('hidden');
                back.classList.toggle('hidden');
            });

            prevWordBtn.addEventListener('click', () => {
                if (shuffledWords.length === 0) return;
                currentWordIndex = (currentWordIndex - 1 + shuffledWords.length) % shuffledWords.length;
                updateFlashcard();
            });

            nextWordBtn.addEventListener('click', () => {
                if (shuffledWords.length === 0) return;
                currentWordIndex = (currentWordIndex + 1) % shuffledWords.length;
                updateFlashcard();
            });

            // è·å–å•è¯æ›´å¤šä¿¡æ¯ (LLM)
            getWordInfoBtn.addEventListener('click', async () => {
                if (shuffledWords.length === 0) return;
                const word = shuffledWords[currentWordIndex];
                wordInfoDisplay.innerHTML = `<div class="flex items-center justify-center"><div class="loading-spinner"></div><span class="loading-text ml-2">åŠ è½½ä¸­...</span></div>`;

                const prompt = `è¯·ä¸ºä¿„è¯­å•è¯ "${word.russian}" æä¾›è‡³å°‘ä¸‰ä¸ªä¾‹å¥ï¼Œå¹¶è¯´æ˜å…¶å¸¸è§ç”¨æ³•æˆ–çŸ­è¯­ï¼Œä»¥åŠå¯èƒ½çš„ä¸­æ–‡ç¿»è¯‘ã€‚è¯·ç”¨ä¸­æ–‡å›ç­”ã€‚`;
                const response = await callGeminiAPI(prompt);

                if (response) {
                    wordInfoDisplay.innerHTML = `<h3 class="text-lg font-semibold mb-2">"${word.russian}" æ›´å¤šä¿¡æ¯:</h3>` + response.replace(/\n/g, '<br>');
                } else {
                    wordInfoDisplay.innerHTML = `<p class="text-red-500">æ— æ³•è·å–æ›´å¤šä¿¡æ¯ï¼Œè¯·ç¨åå†è¯•ã€‚</p>`;
                }
            });

            // è·å–ç›¸å…³å•è¯ (LLM)
            getRelatedWordsBtn.addEventListener('click', async () => {
                if (shuffledWords.length === 0) return;
                const word = shuffledWords[currentWordIndex];
                relatedWordsList.innerHTML = `<div class="flex items-center justify-center"><div class="loading-spinner"></div><span class="loading-text ml-2">åŠ è½½ä¸­...</span></div>`;
                relatedWordsModal.classList.add('show');

                const schema = {
                    type: "ARRAY",
                    items: {
                        type: "OBJECT",
                        properties: {
                            "russian": { "type": "STRING" },
                            "english": { "type": "STRING" }
                        },
                        "propertyOrdering": ["russian", "english"]
                    }
                };
                const prompt = `è¯·ä¸ºä¿„è¯­å•è¯ "${word.russian}" æä¾› 5 ä¸ªç›¸å…³çš„ä¿„è¯­å•è¯åŠå…¶å¯¹åº”çš„ä¸­æ–‡ç¿»è¯‘ã€‚è¯·ä»¥ JSON æ•°ç»„å½¢å¼è¿”å›ï¼Œæ¯ä¸ªå¯¹è±¡åŒ…å« "russian" å’Œ "english" å­—æ®µã€‚ä¸è¦åŒ…å«æ— å…³çš„è§£é‡Šæˆ–æ ¼å¼ã€‚`;
                const response = await callGeminiAPI(prompt, schema);

                if (response && Array.isArray(response) && response.length > 0) {
                    relatedWordsList.innerHTML = `<p class="mb-2">é€‰æ‹©ä½ æƒ³æ·»åŠ çš„å•è¯ï¼š</p>`;
                    response.forEach(relatedWord => {
                        // é¿å…æ·»åŠ å·²å­˜åœ¨çš„å•è¯
                        const exists = vocabulary.some(vocabWord => vocabWord.russian.toLowerCase() === relatedWord.russian.toLowerCase());
                        const itemClass = exists ? 'opacity-50 line-through' : ''; // æ·»åŠ æ ·å¼è¡¨ç¤ºå·²å­˜åœ¨
                        relatedWordsList.innerHTML += `
                            <div class="flex items-center mb-2 ${itemClass}">
                                <input type="checkbox" id="rw-${relatedWord.russian}" data-russian="${relatedWord.russian}" data-english="${relatedWord.english}" class="mr-2" ${exists ? 'disabled' : ''}>
                                <label for="rw-${relatedWord.russian}">${relatedWord.russian} - ${relatedWord.english}</label>
                            </div>
                        `;
                    });
                    addSelectedRelatedWordsBtn.disabled = false;
                } else {
                    relatedWordsList.innerHTML = `<p class="text-red-500">æ— æ³•ç”Ÿæˆç›¸å…³å•è¯ï¼Œè¯·ç¨åå†è¯•ã€‚</p>`;
                    addSelectedRelatedWordsBtn.disabled = true;
                }
            });

            updateFlashcard();
        }

        // åŒ¹é…æ¸¸æˆæ¨¡å¼
        function loadMatchingGameMode() {
            gameArea.innerHTML = `
                <div id="matchingGrid" class="grid grid-cols-2 md:grid-cols-4 gap-4 w-full">
                    <!-- å¡ç‰‡å°†ç”±JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
                <button id="resetMatchingBtn" class="button-primary mt-8">é‡æ–°å¼€å§‹</button>
            `;
            const matchingGrid = document.getElementById('matchingGrid');
            const resetMatchingBtn = document.getElementById('resetMatchingBtn');

            matchingCards = [];
            matchedPairs = 0;

            if (vocabulary.length < 4) { // è‡³å°‘éœ€è¦4ä¸ªå•è¯æ‰èƒ½ç©åŒ¹é…æ¸¸æˆ (8å¼ å¡ç‰‡)
                matchingGrid.innerHTML = `<p class="text-gray-600 text-center col-span-full">å•è¯æ•°é‡ä¸è¶³ï¼Œè¯·è‡³å°‘æ·»åŠ  4 ä¸ªå•è¯æ‰èƒ½ç©åŒ¹é…æ¸¸æˆã€‚</p>`;
                resetMatchingBtn.disabled = true;
                return;
            }

            const gameWords = shuffleArray([...vocabulary]).slice(0, Math.min(vocabulary.length, 8)); // æœ€å¤šå–8ä¸ªå•è¯è¿›è¡ŒåŒ¹é…æ¸¸æˆ
            let allCards = [];
            gameWords.forEach(word => {
                allCards.push({ value: word.russian, type: 'russian', id: word.russian + '_ru' });
                allCards.push({ value: word.english, type: 'english', id: word.russian + '_en' });
            });
            allCards = shuffleArray(allCards);

            allCards.forEach(cardData => {
                const card = document.createElement('div');
                card.classList.add('card', 'p-4', 'rounded-lg', 'shadow-md', 'flex', 'items-center', 'justify-center', 'text-xl', 'font-semibold', 'h-28', 'relative', 'overflow-hidden');
                card.dataset.id = cardData.id;
                card.dataset.type = cardData.type;
                card.dataset.value = cardData.value;
                card.textContent = cardData.value; // Initially show the text
                card.addEventListener('click', handleCardClick);
                matchingGrid.appendChild(card);
            });

            function handleCardClick(event) {
                const clickedCard = event.currentTarget;

                if (clickedCard.classList.contains('selected') || clickedCard.classList.contains('matched')) {
                    return; // é¿å…é‡å¤ç‚¹å‡»æˆ–ç‚¹å‡»å·²åŒ¹é…çš„å¡ç‰‡
                }

                clickedCard.classList.add('selected');
                matchingCards.push(clickedCard);

                if (matchingCards.length === 2) {
                    // ç¦ç”¨æ‰€æœ‰å¡ç‰‡ï¼Œç›´åˆ°åˆ¤æ–­å®Œæˆ
                    document.querySelectorAll('.card').forEach(card => card.style.pointerEvents = 'none');

                    const [card1, card2] = matchingCards;
                    const id1 = card1.dataset.id.split('_')[0];
                    const id2 = card2.dataset.id.split('_')[0];

                    if (id1 === id2 && card1.dataset.type !== card2.dataset.type) {
                        // åŒ¹é…æˆåŠŸ
                        setTimeout(() => {
                            card1.classList.remove('selected');
                            card2.classList.remove('selected');
                            card1.classList.add('matched');
                            card2.classList.add('matched');
                            matchedPairs++;
                            matchingCards = []; // æ¸…ç©ºå·²é€‰å¡ç‰‡

                            // é‡æ–°å¯ç”¨æ‰€æœ‰æœªåŒ¹é…çš„å¡ç‰‡
                            document.querySelectorAll('.card:not(.matched)').forEach(card => card.style.pointerEvents = 'auto');

                            if (matchedPairs === gameWords.length) {
                                showMessageBox('æ­å–œï¼ä½ å®Œæˆäº†åŒ¹é…æ¸¸æˆï¼');
                            }
                        }, 600);
                    } else {
                        // åŒ¹é…å¤±è´¥
                        setTimeout(() => {
                            card1.classList.remove('selected');
                            card2.classList.remove('selected');
                            matchingCards = []; // æ¸…ç©ºå·²é€‰å¡ç‰‡

                            // é‡æ–°å¯ç”¨æ‰€æœ‰æœªåŒ¹é…çš„å¡ç‰‡
                            document.querySelectorAll('.card:not(.matched)').forEach(card => card.style.pointerEvents = 'auto');
                        }, 1000);
                    }
                }
            }

            resetMatchingBtn.addEventListener('click', loadMatchingGameMode); // é‡æ–°åŠ è½½åŒ¹é…æ¸¸æˆ
        }

        // å£è¯­ç»ƒä¹ æ¨¡å¼
        function loadSpeakingPracticeMode() {
            gameArea.innerHTML = `
                <div class="w-full max-w-md bg-white p-6 rounded-xl shadow-md text-center">
                    <p class="text-gray-600 text-xl mb-4">è¯·è¯´å‡ºè¿™ä¸ªè¯çš„ä¿„è¯­ï¼š</p>
                    <p id="speakingWord" class="text-5xl font-bold text-gray-800 mb-6"></p>
                    <button id="speakBtn" class="button-primary mb-4 w-full bg-indigo-500 hover:bg-indigo-600"><i class="fas fa-volume-up mr-2"></i> å¬ä¿„è¯­</button>
                    <button id="recordBtn" class="button-primary mb-4 w-full bg-blue-500 hover:bg-blue-600"><i class="fas fa-microphone mr-2"></i> å¼€å§‹å½•éŸ³</button>
                    <p id="speechFeedback" class="text-lg font-semibold h-6 mb-4"></p>
                    <button id="nextSpeakingBtn" class="button-primary w-full bg-green-500 hover:bg-green-600 hidden"><i class="fas fa-arrow-right mr-2"></i> ä¸‹ä¸€ä¸ªå•è¯</button>
                </div>
            `;
            const speakingWord = document.getElementById('speakingWord');
            const speakBtn = document.getElementById('speakBtn');
            const recordBtn = document.getElementById('recordBtn');
            const speechFeedback = document.getElementById('speechFeedback');
            const nextSpeakingBtn = document.getElementById('nextSpeakingBtn');

            if (!recognition) {
                speakingWord.textContent = "æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«ã€‚";
                speakBtn.disabled = true;
                recordBtn.disabled = true;
                return;
            }

            if (vocabulary.length === 0) {
                speakingWord.textContent = "æš‚æ— å•è¯";
                speakBtn.disabled = true;
                recordBtn.disabled = true;
                nextSpeakingBtn.disabled = true;
                return;
            }

            shuffledWords = shuffleArray([...vocabulary]);
            currentWordIndex = 0;
            let isRecording = false;

            function displayNewWord() {
                const word = shuffledWords[currentWordIndex];
                speakingWord.textContent = word.english; // æ˜¾ç¤ºè‹±æ–‡å•è¯
                speechFeedback.textContent = ''; // æ¸…ç©ºåé¦ˆ
                recordBtn.textContent = 'å¼€å§‹å½•éŸ³';
                recordBtn.classList.remove('bg-red-500', 'hover:bg-red-600');
                recordBtn.classList.add('bg-blue-500', 'hover:bg-blue-600');
                nextSpeakingBtn.classList.add('hidden');
                speakBtn.disabled = false;
                recordBtn.disabled = false;
            }

            // æ–‡æœ¬è½¬è¯­éŸ³
            speakBtn.addEventListener('click', () => {
                if (shuffledWords.length === 0) return;
                const word = shuffledWords[currentWordIndex];
                const utterance = new SpeechSynthesisUtterance(word.russian);
                utterance.lang = 'ru-RU'; // è®¾ç½®æœ—è¯»è¯­è¨€ä¸ºä¿„è¯­
                window.speechSynthesis.speak(utterance);
            });

            // è¯­éŸ³è¯†åˆ«
            recordBtn.addEventListener('click', () => {
                if (isRecording) {
                    recognition.stop();
                    isRecording = false;
                    recordBtn.textContent = 'å¼€å§‹å½•éŸ³';
                    recordBtn.classList.remove('bg-red-500', 'hover:bg-red-600');
                    recordBtn.classList.add('bg-blue-500', 'hover:bg-blue-600');
                } else {
                    speechFeedback.textContent = 'è¯·è¯´å‡ºä¿„è¯­å•è¯...';
                    speechFeedback.classList.remove('text-green-600', 'text-red-600');
                    try {
                        recognition.start();
                        isRecording = true;
                        recordBtn.textContent = 'åœæ­¢å½•éŸ³';
                        recordBtn.classList.remove('bg-blue-500', 'hover:bg-blue-600');
                        recordBtn.classList.add('bg-red-500', 'hover:bg-red-600');
                    } catch (e) {
                        console.error("Speech recognition start failed: ", e);
                        speechFeedback.textContent = 'å½•éŸ³å¤±è´¥ï¼Œè¯·ç¡®ä¿æ‚¨å·²æˆæƒéº¦å…‹é£ã€‚';
                        recordBtn.textContent = 'å¼€å§‹å½•éŸ³';
                        recordBtn.classList.remove('bg-red-500', 'hover:bg-red-600');
                        recordBtn.classList.add('bg-blue-500', 'hover:bg-blue-600');
                        isRecording = false;
                    }
                }
            });

            recognition.onresult = (event) => {
                const spokenText = event.results[0][0].transcript;
                const word = shuffledWords[currentWordIndex];
                const correctAnswer = word.russian.toLowerCase();

                if (spokenText.toLowerCase().includes(correctAnswer.toLowerCase())) {
                    speechFeedback.textContent = `æ­£ç¡®ï¼ä½ è¯´äº†: "${spokenText}"`;
                    speechFeedback.classList.remove('text-red-600');
                    speechFeedback.classList.add('text-green-600');
                    nextSpeakingBtn.classList.remove('hidden');
                    speakBtn.disabled = true; // è¯†åˆ«æˆåŠŸåç¦ç”¨å¬å’Œå½•éŸ³æŒ‰é’®
                    recordBtn.disabled = true;
                } else {
                    speechFeedback.innerHTML = `é”™è¯¯ã€‚ä½ è¯´äº†: "${spokenText}"ã€‚æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š<span class="font-bold">${word.russian}</span>`;
                    speechFeedback.classList.remove('text-green-600');
                    speechFeedback.classList.add('text-red-600');
                    nextSpeakingBtn.classList.remove('hidden'); // å³ä½¿é”™è¯¯ä¹Ÿå¯ä»¥è·³åˆ°ä¸‹ä¸€ä¸ª
                    speakBtn.disabled = true; // è¯†åˆ«åç¦ç”¨å¬å’Œå½•éŸ³æŒ‰é’®
                    recordBtn.disabled = true;
                }
            };

            recognition.onerror = (event) => {
                console.error("Speech recognition error:", event.error);
                speechFeedback.textContent = `è¯­éŸ³è¯†åˆ«é”™è¯¯: ${event.error}. è¯·é‡è¯•æˆ–æ£€æŸ¥éº¦å…‹é£æƒé™ã€‚`;
                speechFeedback.classList.remove('text-green-600');
                speechFeedback.classList.add('text-red-600');
                isRecording = false;
                recordBtn.textContent = 'å¼€å§‹å½•éŸ³';
                recordBtn.classList.remove('bg-red-500', 'hover:bg-red-600');
                recordBtn.classList.add('bg-blue-500', 'hover:bg-blue-600');
            };

            recognition.onend = () => {
                isRecording = false;
                recordBtn.textContent = 'å¼€å§‹å½•éŸ³';
                recordBtn.classList.remove('bg-red-500', 'hover:bg-red-600');
                recordBtn.classList.add('bg-blue-500', 'hover:bg-blue-600');
            };

            function nextWord() {
                currentWordIndex = (currentWordIndex + 1) % shuffledWords.length;
                displayNewWord();
            }
            nextSpeakingBtn.addEventListener('click', nextWord);

            displayNewWord();
        }

        // å†™ä½œç»ƒä¹ æ¨¡å¼
        function loadWritingPracticeMode() {
            // æ‰“å¼€ä¸»é¢˜é€‰æ‹©æ¨¡æ€æ¡†
            writingTopicModal.classList.add('show');
            topicInput.value = ''; // æ¸…ç©ºä¸»é¢˜è¾“å…¥æ¡†
        }

        async function loadWritingPracticeModeContent(topic) {
            gameArea.innerHTML = `
                <div class="w-full max-w-2xl bg-white p-6 rounded-xl shadow-md text-center">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">å†™ä½œç»ƒä¹ </h2>
                    <p class="text-gray-600 text-xl mb-4">ä¸»é¢˜: <span id="writingCurrentTopic" class="font-semibold text-blue-700">${topic || 'è‡ªç”±å†™ä½œ'}</span></p>
                    <textarea id="userWritingInput" class="w-full h-40 p-3 border border-gray-300 rounded-lg text-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="è¯·åœ¨è¿™é‡Œç”¨ä¿„è¯­å†™ä½œ..."></textarea>
                    <div class="flex flex-wrap justify-center space-x-2 md:space-x-4 mb-4">
                        <button id="checkWritingBtn" class="button-primary bg-green-600 hover:bg-green-700 mb-2"><i class="fas fa-edit mr-2"></i> æ£€æŸ¥å†™ä½œ</button>
                        <button id="getExampleSentencesBtn" class="button-primary bg-yellow-600 hover:bg-yellow-700 mb-2"><i class="fas fa-lightbulb mr-2"></i> ç”Ÿæˆä¾‹å¥</button>
                        <button id="nextWritingTopicBtn" class="button-primary bg-indigo-600 hover:bg-indigo-700 mb-2"><i class="fas fa-forward mr-2"></i> ä¸‹ä¸€ä¸ªä¸»é¢˜</button>
                    </div>
                    <div id="writingFeedbackDisplay" class="mt-4 p-4 bg-gray-50 rounded-lg shadow-inner text-left text-gray-700 min-h-[80px]">
                        <!-- å†™ä½œåé¦ˆå°†åœ¨æ­¤å¤„æ˜¾ç¤º -->
                    </div>
                    <div id="exampleSentencesDisplay" class="mt-4 p-4 bg-blue-50 rounded-lg shadow-inner text-left text-blue-700 hidden">
                        <h3 class="text-lg font-semibold mb-2">ä¾‹å¥å‚è€ƒ:</h3>
                        <ul id="exampleSentencesList"></ul>
                    </div>
                </div>
            `;

            const userWritingInput = document.getElementById('userWritingInput');
            const checkWritingBtn = document.getElementById('checkWritingBtn');
            const getExampleSentencesBtn = document.getElementById('getExampleSentencesBtn');
            const nextWritingTopicBtn = document.getElementById('nextWritingTopicBtn');
            const writingFeedbackDisplay = document.getElementById('writingFeedbackDisplay');
            const exampleSentencesDisplay = document.getElementById('exampleSentencesDisplay');
            const exampleSentencesList = document.getElementById('exampleSentencesList');
            const writingCurrentTopic = document.getElementById('writingCurrentTopic');

            if (topic) {
                writingCurrentTopic.textContent = topic;
            } else {
                writingCurrentTopic.textContent = 'è‡ªç”±å†™ä½œ';
            }


            // æ£€æŸ¥å†™ä½œæŒ‰é’®ç‚¹å‡»äº‹ä»¶ (LLM)
            checkWritingBtn.addEventListener('click', async () => {
                const userText = userWritingInput.value.trim();
                if (!userText) {
                    showMessageBox('è¯·å…ˆè¾“å…¥ä¸€äº›ä¿„è¯­æ–‡å­—è¿›è¡Œæ£€æŸ¥ï¼');
                    return;
                }
                writingFeedbackDisplay.innerHTML = `<div class="flex items-center justify-center"><div class="loading-spinner"></div><span class="loading-text ml-2">æ­£åœ¨æ£€æŸ¥å†™ä½œ...</span></div>`;

                const prompt = `åˆ†æä»¥ä¸‹ä¿„è¯­å­¦ä¹ è€…å†™çš„å¥å­ï¼Œå¹¶ç”¨ä¸­æ–‡æä¾›è¯¦ç»†åé¦ˆã€‚è¯·ä¸“æ³¨äºè¯­æ³•ã€è¯æ±‡ä½¿ç”¨å’Œè‡ªç„¶åº¦ã€‚å¦‚æœå¥å­å¯ä»¥æ”¹è¿›ï¼Œè¯·æä¾›æ›´è‡ªç„¶æˆ–æ›´æ­£ç¡®çš„æ”¹å†™å»ºè®®ã€‚åŸå§‹å¥å­æ˜¯ï¼š"${userText}"`;
                const response = await callGeminiAPI(prompt);

                if (response) {
                    writingFeedbackDisplay.innerHTML = `<h3 class="text-lg font-semibold mb-2">å†™ä½œåé¦ˆ:</h3>` + response.replace(/\n/g, '<br>');
                } else {
                    writingFeedbackDisplay.innerHTML = `<p class="text-red-500">æ— æ³•è·å–åé¦ˆï¼Œè¯·ç¨åå†è¯•ã€‚</p>`;
                }
            });

            // ç”Ÿæˆä¾‹å¥æŒ‰é’®ç‚¹å‡»äº‹ä»¶ (LLM)
            getExampleSentencesBtn.addEventListener('click', async () => {
                exampleSentencesDisplay.classList.remove('hidden');
                exampleSentencesList.innerHTML = `<div class="flex items-center justify-center"><div class="loading-spinner"></div><span class="loading-text ml-2">æ­£åœ¨ç”Ÿæˆä¾‹å¥...</span></div>`;

                const prompt = `è¯·ä¸ºä»¥ä¸‹ä¸»é¢˜ç”Ÿæˆ 3-4 ä¸ªç®€å•ä¸”å¸¸ç”¨çš„ä¿„è¯­ä¾‹å¥ï¼Œå¹¶æä¾›å¯¹åº”çš„ä¸­æ–‡ç¿»è¯‘ã€‚è¯·ä»¥ JSON æ•°ç»„å½¢å¼è¿”å›ï¼Œæ¯ä¸ªå¯¹è±¡åŒ…å« "russian" å’Œ "english" å­—æ®µã€‚ä¸»é¢˜æ˜¯ï¼šâ€œ${currentWritingTopic || 'é€šç”¨ä¿„è¯­è¡¨è¾¾'}â€ã€‚`;
                const schema = {
                    type: "ARRAY",
                    items: {
                        type: "OBJECT",
                        properties: {
                            "russian": { "type": "STRING" },
                            "english": { "type": "STRING" }
                        },
                        "propertyOrdering": ["russian", "english"]
                    }
                };
                const response = await callGeminiAPI(prompt, schema);

                if (response && Array.isArray(response) && response.length > 0) {
                    exampleSentencesList.innerHTML = ''; // æ¸…ç©ºæ—§ä¾‹å¥
                    response.forEach(sentence => {
                        exampleSentencesList.innerHTML += `
                            <li class="mb-2">
                                <p class="font-bold">${sentence.russian}</p>
                                <p class="text-gray-600 text-sm">${sentence.english}</p>
                            </li>
                        `;
                    });
                } else {
                    exampleSentencesList.innerHTML = `<p class="text-red-500">æ— æ³•ç”Ÿæˆä¾‹å¥ï¼Œè¯·ç¨åå†è¯•ã€‚</p>`;
                }
            });

            // ä¸‹ä¸€ä¸ªä¸»é¢˜æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            nextWritingTopicBtn.addEventListener('click', () => {
                loadWritingPracticeMode(); // é‡æ–°è¿›å…¥ä¸»é¢˜é€‰æ‹©æµç¨‹
            });
        }

        // è¯æ±‡æŸ¥è¯¢æ¨¡å¼
        function loadWordLookupMode() {
            gameArea.innerHTML = `
                <div class="w-full max-w-2xl bg-white p-6 rounded-xl shadow-md text-center">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">è¯æ±‡æŸ¥è¯¢</h2>
                    <div class="flex items-center mb-4">
                        <input type="text" id="lookupInput" class="w-full p-3 border border-gray-300 rounded-l-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="è¾“å…¥ä¿„è¯­æˆ–ä¸­æ–‡å•è¯">
                        <select id="lookupDirection" class="p-3 border border-gray-300 rounded-r-lg bg-gray-100 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <option value="ru-zh">ä¿„è¯­ â†’ ä¸­æ–‡</option>
                            <option value="zh-ru">ä¸­æ–‡ â†’ ä¿„è¯­</option>
                        </select>
                    </div>
                    <div class="flex flex-wrap justify-center space-x-2 md:space-x-4 mb-4">
                        <button id="lookupBtn" class="button-primary mb-2"><i class="fas fa-search mr-2"></i> æŸ¥è¯¢</button>
                        <button id="lookupToFourQuadrantBtn" class="button-primary bg-orange-500 hover:bg-orange-600 mb-2"><i class="fas fa-brain mr-2"></i> ç”ŸæˆåŠ©è®°ææ–™</button>
                    </div>

                    <div id="lookupResultDisplay" class="mt-4 p-4 bg-gray-50 rounded-lg shadow-inner text-left text-gray-700 min-h-[100px]">
                        <!-- æŸ¥è¯¢ç»“æœå°†åœ¨æ­¤å¤„æ˜¾ç¤º -->
                    </div>

                    <div id="declensionDisplay" class="mt-6 p-4 bg-white rounded-lg shadow-inner text-left text-gray-700 hidden">
                        <h3 class="text-lg font-semibold mb-2">å˜æ ¼è¡¨:</h3>
                        <table class="lookup-table w-full border-collapse">
                            <thead>
                                <tr><th>æ ¼ä½</th><th>å•æ•°</th><th>å¤æ•°</th></tr>
                            </thead>
                            <tbody id="declensionTableBody"></tbody>
                        </table>
                    </div>

                    <div id="conjugationDisplay" class="mt-6 p-4 bg-white rounded-lg shadow-inner text-left text-gray-700 hidden">
                        <h3 class="text-lg font-semibold mb-2">ç°åœ¨æ—¶å˜ä½è¡¨:</h3>
                        <table class="lookup-table w-full border-collapse">
                            <thead>
                                <tr><th>äººç§°/æ•°</th><th>å½¢å¼</th></tr>
                            </thead>
                            <tbody id="conjugationTableBody"></tbody>
                        </table>
                    </div>
                </div>
            `;
            const lookupInput = document.getElementById('lookupInput');
            const lookupDirection = document.getElementById('lookupDirection');
            const lookupBtn = document.getElementById('lookupBtn');
            const lookupToFourQuadrantBtn = document.getElementById('lookupToFourQuadrantBtn'); // æ–°å¢æŒ‰é’®
            const lookupResultDisplay = document.getElementById('lookupResultDisplay');
            const declensionDisplay = document.getElementById('declensionDisplay');
            const declensionTableBody = document.getElementById('declensionTableBody');
            const conjugationDisplay = document.getElementById('conjugationDisplay');
            const conjugationTableBody = document.getElementById('conjugationTableBody');

            // ä¿„è¯­æ ¼ä½åç§°æ˜ å°„
            const russianCasesMap = {
                "Nominative": "ç¬¬ä¸€æ ¼ (ä¸»æ ¼)",
                "Genitive": "ç¬¬äºŒæ ¼ (å±æ ¼)",
                "Dative": "ç¬¬ä¸‰æ ¼ (ä¸æ ¼)",
                "Accusative": "ç¬¬å››æ ¼ (å®¾æ ¼)",
                "Instrumental": "ç¬¬äº”æ ¼ (å·¥å…·æ ¼)",
                "Prepositional": "ç¬¬å…­æ ¼ (å‰ç½®æ ¼)"
            };
            
            // ä¿„è¯­åŠ¨è¯å˜ä½äººç§°æ˜ å°„
            const russianConjugationMap = {
                "Ğ¯ (I)": "æˆ‘",
                "Ğ¢Ñ‹ (You singular informal)": "ä½  (å•æ•°éæ­£å¼)",
                "ĞĞ½/ĞĞ½Ğ°/ĞĞ½Ğ¾ (He/She/It)": "ä»–/å¥¹/å®ƒ",
                "ĞœÑ‹ (We)": "æˆ‘ä»¬",
                "Ğ’Ñ‹ (You plural/formal)": "ä½ ä»¬/æ‚¨",
                "ĞĞ½Ğ¸ (They)": "ä»–ä»¬"
            };


            lookupBtn.addEventListener('click', async () => {
                const inputWord = lookupInput.value.trim();
                const direction = lookupDirection.value;

                if (!inputWord) {
                    showMessageBox('è¯·è¾“å…¥è¦æŸ¥è¯¢çš„å•è¯ï¼');
                    return;
                }

                lookupResultDisplay.innerHTML = `<div class="flex items-center justify-center"><div class="loading-spinner"></div><span class="loading-text ml-2">æ­£åœ¨æŸ¥è¯¢...</span></div>`;
                declensionDisplay.classList.add('hidden');
                conjugationDisplay.classList.add('hidden');

                let russianWordForForms = ''; // ç”¨äºæŸ¥è¯¢å˜ä½/å˜æ ¼çš„ä¿„è¯­å•è¯

                // Step 1: Get translation and word type
                const wordInfoSchema = {
                    type: "OBJECT",
                    properties: {
                        "originalWord": { "type": "STRING" },
                        "translatedWord": { "type": "STRING" },
                        "wordType": { "type": "STRING", "enum": ["åè¯ (Noun)", "åŠ¨è¯ (Verb)", "å½¢å®¹è¯ (Adjective)", "å‰¯è¯ (Adverb)", "å…¶ä»– (Other)"] }
                    },
                    "required": ["originalWord", "translatedWord", "wordType"]
                };
                let wordInfoPrompt = '';
                if (direction === 'ru-zh') {
                    wordInfoPrompt = `è¯·å°†ä¿„è¯­å•è¯ "${inputWord}" ç¿»è¯‘æˆä¸­æ–‡ï¼Œå¹¶åˆ¤æ–­å…¶è¯æ€§ï¼ˆåè¯ã€åŠ¨è¯ã€å½¢å®¹è¯ã€å‰¯è¯ã€å…¶ä»–ï¼‰ã€‚è¯·ä»¥ JSON æ ¼å¼è¿”å›ï¼ŒåŒ…å« 'originalWord', 'translatedWord', 'wordType' å­—æ®µã€‚`;
                    russianWordForForms = inputWord;
                } else {
                    wordInfoPrompt = `è¯·å°†ä¸­æ–‡å•è¯ "${inputWord}" ç¿»è¯‘æˆä¿„è¯­ï¼Œå¹¶åˆ¤æ–­å…¶è¯æ€§ï¼ˆåè¯ã€åŠ¨è¯ã€å½¢å®¹è¯ã€å‰¯è¯ã€å…¶ä»–ï¼‰ã€‚è¯·ä»¥ JSON æ ¼å¼è¿”å›ï¼ŒåŒ…å« 'originalWord', 'translatedWord', 'wordType' å­—æ®µã€‚`;
                    // If Chinese to Russian, the translatedWord will be Russian.
                }

                const wordInfo = await callGeminiAPI(wordInfoPrompt, wordInfoSchema);

                if (wordInfo && wordInfo.translatedWord && wordInfo.wordType) {
                    if (direction === 'zh-ru') {
                        russianWordForForms = wordInfo.translatedWord; // Use the Russian translation for forms
                    }
                    lookupResultDisplay.innerHTML = `
                        <h3 class="text-xl font-bold mb-2">æŸ¥è¯¢ç»“æœ:</h3>
                        <p class="mb-1"><strong>${wordInfo.originalWord}</strong> (${direction === 'ru-zh' ? 'ä¿„è¯­' : 'ä¸­æ–‡'}) â†’ <strong>${wordInfo.translatedWord}</strong> (${direction === 'ru-zh' ? 'ä¸­æ–‡' : 'ä¿„è¯­'})</p>
                        <p>è¯æ€§: ${wordInfo.wordType}</p>
                    `;

                    // Step 2: Get grammatical forms based on word type
                    if (russianWordForForms) { // Only proceed if we have a Russian word to query forms for
                        if (wordInfo.wordType === 'åè¯ (Noun)' || wordInfo.wordType === 'å½¢å®¹è¯ (Adjective)') {
                            declensionTableBody.innerHTML = `<tr><td colspan="3"><div class="flex items-center justify-center"><div class="loading-spinner"></div><span class="loading-text ml-2">åŠ è½½å˜æ ¼è¡¨...</span></div></td></tr>`;
                            declensionDisplay.classList.remove('hidden');

                            const declensionSchema = {
                                type: "OBJECT",
                                properties: {
                                    "declension": {
                                        "type": "ARRAY",
                                        "items": {
                                            "type": "OBJECT",
                                            "properties": {
                                                "case": { "type": "STRING" },
                                                "singular": { "type": "STRING" },
                                                "plural": { "type": "STRING" }
                                            },
                                            "required": ["case", "singular", "plural"]
                                        }
                                    }
                                },
                                "required": ["declension"]
                            };
                            const declensionPrompt = `è¯·ä¸ºä¿„è¯­å•è¯ "${russianWordForForms}" ç”Ÿæˆå…¶å®Œæ•´çš„å˜æ ¼è¡¨ï¼ˆåè¯æˆ–å½¢å®¹è¯ï¼‰ã€‚è¯·åŒ…æ‹¬æ‰€æœ‰æ ¼ä½ï¼ˆä¸»æ ¼ã€å±æ ¼ã€ä¸æ ¼ã€å®¾æ ¼ã€å·¥å…·æ ¼ã€å‰ç½®æ ¼ï¼‰çš„å•æ•°å’Œå¤æ•°å½¢å¼ï¼Œå¹¶ä»¥ JSON æ ¼å¼è¿”å›ã€‚JSONåº”åŒ…å«ä¸€ä¸ªâ€œdeclensionâ€æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡æœ‰â€œcaseâ€ã€â€œsingularâ€å’Œâ€œpluralâ€å­—æ®µã€‚`;
                            const declensionResult = await callGeminiAPI(declensionPrompt, declensionSchema);

                            declensionTableBody.innerHTML = ''; // Clear loading
                            if (declensionResult && Array.isArray(declensionResult.declension) && declensionResult.declension.length > 0) {
                                declensionResult.declension.forEach(form => {
                                    // æ˜ å°„æ ¼ä½åç§°ä¸ºä¸­æ–‡æ•°å­—è¡¨ç¤º
                                    const chineseCase = russianCasesMap[form.case] || form.case;
                                    declensionTableBody.innerHTML += `
                                        <tr>
                                            <td>${chineseCase}</td>
                                            <td>${form.singular}</td>
                                            <td>${form.plural}</td>
                                        </tr>
                                    `;
                                });
                            } else {
                                declensionTableBody.innerHTML = `<tr><td colspan="3" class="text-red-500">æ— æ³•è·å–å˜æ ¼è¡¨ã€‚</td></tr>`;
                            }
                        } else if (wordInfo.wordType === 'åŠ¨è¯ (Verb)') {
                            conjugationTableBody.innerHTML = `<tr><td colspan="2"><div class="flex items-center justify-center"><div class="loading-spinner"></div><span class="loading-text ml-2">åŠ è½½å˜ä½è¡¨...</span></div></td></tr>`;
                            conjugationDisplay.classList.remove('hidden');

                            const conjugationSchema = {
                                type: "OBJECT",
                                properties: {
                                    "conjugation": {
                                        "type": "ARRAY",
                                        "items": {
                                            "type": "OBJECT",
                                            "properties": {
                                                "personNumber": { "type": "STRING" },
                                                "form": { "type": "STRING" }
                                            },
                                            "required": ["personNumber", "form"]
                                        }
                                    }
                                },
                                "required": ["conjugation"]
                            };
                            const conjugationPrompt = `è¯·ä¸ºä¿„è¯­åŠ¨è¯ "${russianWordForForms}" ç”Ÿæˆå…¶å®Œæ•´çš„ç°åœ¨æ—¶å˜ä½è¡¨ã€‚è¯·åŒ…æ‹¬æ‰€æœ‰çš„äººç§°å½¢å¼ï¼ˆæˆ‘ã€ä½ ã€ä»–/å¥¹/å®ƒã€æˆ‘ä»¬ã€ä½ ä»¬ã€ä»–ä»¬ï¼‰ï¼Œå¹¶ä»¥ JSON æ ¼å¼è¿”å›ã€‚JSONåº”åŒ…å«ä¸€ä¸ªâ€œconjugationâ€æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡æœ‰â€œpersonNumberâ€ï¼ˆäººç§°/æ•°ï¼‰å’Œâ€œformâ€ï¼ˆå½¢å¼ï¼‰å­—æ®µã€‚`;
                            const conjugationResult = await callGeminiAPI(conjugationPrompt, conjugationSchema);

                            conjugationTableBody.innerHTML = ''; // Clear loading
                            if (conjugationResult && Array.isArray(conjugationResult.conjugation) && conjugationResult.conjugation.length > 0) {
                                conjugationResult.conjugation.forEach(form => {
                                    // æ˜ å°„äººç§°åç§°ä¸ºä¸­æ–‡è¡¨ç¤º
                                    const chinesePerson = russianConjugationMap[form.personNumber] || form.personNumber;
                                    conjugationTableBody.innerHTML += `
                                        <tr>
                                            <td>${chinesePerson}</td>
                                            <td>${form.form}</td>
                                        </tr>
                                    `;
                                });
                            } else {
                                conjugationTableBody.innerHTML = `<tr><td colspan="2" class="text-red-500">æ— æ³•è·å–å˜ä½è¡¨ã€‚</td></tr>`;
                            }
                        } else {
                            lookupResultDisplay.innerHTML += `<p class="mt-2 text-gray-500">æ­¤è¯æ€§é€šå¸¸æ²¡æœ‰å¤æ‚çš„å˜æ ¼æˆ–å˜ä½ã€‚</p>`;
                        }
                    } else {
                         lookupResultDisplay.innerHTML += `<p class="mt-2 text-gray-500">æ— æ³•ä»è¯¥è¯è·å–ä¿„è¯­è¯­æ³•å½¢å¼ã€‚</p>`;
                    }
                } else {
                    lookupResultDisplay.innerHTML = `<p class="text-red-500">æŸ¥è¯¢å¤±è´¥æˆ–æœªèƒ½è¯†åˆ«å•è¯ç±»å‹ï¼Œè¯·æ£€æŸ¥è¾“å…¥ã€‚</p>`;
                }
            });

            // è¯æ±‡æŸ¥è¯¢åˆ°å››è±¡é™èƒŒè¯æ³•çš„å¿«æ·é”®
            lookupToFourQuadrantBtn.addEventListener('click', async () => {
                const inputWord = lookupInput.value.trim();
                const direction = lookupDirection.value;

                if (!inputWord) {
                    showMessageBox('è¯·å…ˆåœ¨æŸ¥è¯¢æ¡†ä¸­è¾“å…¥ä¸€ä¸ªå•è¯ï¼');
                    return;
                }

                // é¦–å…ˆï¼Œå°è¯•è·å–å•è¯çš„ä¿„è¯­å½¢å¼
                let wordForMnemonic = inputWord; // é»˜è®¤æ˜¯è¾“å…¥æ¡†å†…å®¹
                if (direction === 'zh-ru') { // å¦‚æœæ˜¯ä¸­æ–‡æŸ¥ä¿„è¯­ï¼Œéœ€è¦å…ˆç¿»è¯‘
                    const wordInfoSchema = {
                        type: "OBJECT",
                        properties: {
                            "originalWord": { "type": "STRING" },
                            "translatedWord": { "type": "STRING" },
                            "wordType": { "type": "STRING", "enum": ["åè¯ (Noun)", "åŠ¨è¯ (Verb)", "å½¢å®¹è¯ (Adjective)", "å‰¯è¯ (Adverb)", "å…¶ä»– (Other)"] }
                        },
                        "required": ["originalWord", "translatedWord", "wordType"]
                    };
                    const wordInfoPrompt = `è¯·å°†ä¸­æ–‡å•è¯ "${inputWord}" ç¿»è¯‘æˆä¿„è¯­ï¼Œå¹¶åˆ¤æ–­å…¶è¯æ€§ã€‚è¯·ä»¥ JSON æ ¼å¼è¿”å›ï¼ŒåŒ…å« 'originalWord', 'translatedWord', 'wordType' å­—æ®µã€‚`;
                    const wordInfo = await callGeminiAPI(wordInfoPrompt, wordInfoSchema);
                    if (wordInfo && wordInfo.translatedWord) {
                        wordForMnemonic = wordInfo.translatedWord;
                    } else {
                        showMessageBox('æ— æ³•å°†ä¸­æ–‡å•è¯ç¿»è¯‘æˆä¿„è¯­ï¼Œæ— æ³•ç”ŸæˆåŠ©è®°ææ–™ã€‚');
                        return;
                    }
                }

                // åˆ‡æ¢åˆ°å››è±¡é™æ¨¡å¼ï¼Œå¹¶ä¼ å…¥ä¿„è¯­å•è¯
                switchMode('fourQuadrant', wordForMnemonic);
            });
        }

        // å››è±¡é™å¤šæ„Ÿå®˜èƒŒè¯æ³•æ¨¡å¼
        function loadFourQuadrantMode(initialWord = '') {
            gameArea.innerHTML = `
                <div class="w-full max-w-2xl bg-white p-6 rounded-xl shadow-md text-center">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">å››è±¡é™å¤šæ„Ÿå®˜èƒŒè¯æ³• âœ¨</h2>
                    <p class="text-gray-600 text-xl mb-4">è¾“å…¥ä¸€ä¸ªä¿„è¯­å•è¯ï¼Œè·å–å®Œæ•´çš„åŠ©è®°ææ–™ã€‚</p>
                    <input type="text" id="fourQuadrantWordInput" class="w-full p-3 border border-gray-300 rounded-lg text-xl text-center mb-4 focus:outline-none focus:ring-2 focus:ring-orange-400" placeholder="åœ¨æ­¤è¾“å…¥ä¿„è¯­å•è¯ (ä¾‹å¦‚: Ğ´Ğ¾Ğ¼)">
                    <button id="generateFourQuadrantBtn" class="button-primary w-full bg-orange-500 hover:bg-orange-600 mb-4"><i class="fas fa-magic mr-2"></i> ç”ŸæˆåŠ©è®°ææ–™</button>
                    
                    <div id="fourQuadrantOutput" class="mt-6 text-left">
                        <!-- å››è±¡é™å†…å®¹å°†åœ¨æ­¤å¤„åŠ è½½ -->
                        <div class="flex items-center justify-center p-4 hidden" id="fourQuadrantLoading">
                            <div class="loading-spinner"></div><span class="loading-text ml-2">æ­£åœ¨ç”ŸæˆåŠ©è®°ææ–™ï¼Œè¯·ç¨å€™...</span>
                        </div>
                    </div>
                </div>
            `;

            const fourQuadrantWordInput = document.getElementById('fourQuadrantWordInput');
            const generateFourQuadrantBtn = document.getElementById('generateFourQuadrantBtn');
            const fourQuadrantOutput = document.getElementById('fourQuadrantOutput');
            const fourQuadrantLoading = document.getElementById('fourQuadrantLoading');

            // å¦‚æœæœ‰åˆå§‹å•è¯ï¼Œåˆ™å¡«å……å¹¶è‡ªåŠ¨ç”Ÿæˆ
            if (initialWord) {
                fourQuadrantWordInput.value = initialWord;
                // ç¡®ä¿ DOM å…ƒç´ è¢«æ¸²æŸ“åå†è§¦å‘ç‚¹å‡»
                setTimeout(() => {
                    generateFourQuadrantBtn.click();
                }, 0); 
            }

            generateFourQuadrantBtn.addEventListener('click', async () => {
                const word = fourQuadrantWordInput.value.trim();
                if (!word) {
                    showMessageBox('è¯·è¾“å…¥ä¸€ä¸ªä¿„è¯­å•è¯ï¼');
                    return;
                }

                fourQuadrantOutput.innerHTML = ''; // Clear previous output
                fourQuadrantLoading.classList.remove('hidden'); // Show loading spinner

                const schema = {
                    type: "OBJECT",
                    properties: {
                        "quadrant1": {
                            "type": "OBJECT",
                            "properties": {
                                "contextAndFeeling": { "type": "ARRAY", "items": { "type": "STRING" } },
                                "coreFeeling": { "type": "STRING" },
                                "vocabularyRelations": {
                                    "type": "OBJECT",
                                    "properties": {
                                        "synonyms": { "type": "ARRAY", "items": { "type": "STRING" } },
                                        "antonyms": { "type": "ARRAY", "items": { "type": "STRING" } }
                                    }
                                },
                                "etymology": { "type": "STRING" }
                            }
                        },
                        "quadrant2": {
                            "type": "OBJECT",
                            "properties": {
                                "pronunciationBreakdown": { "type": "STRING" },
                                "collocationsAndRhyme": {
                                    "type": "OBJECT",
                                    "properties": {
                                        "collocations": { "type": "ARRAY", "items": { "type": "STRING" } },
                                        "mnemonicRhyme": { "type": "STRING" }
                                    }
                                }
                            }
                        },
                        "quadrant3": {
                            "type": "OBJECT",
                            "properties": {
                                "spellingBreakdown": { "type": "ARRAY", "items": { "type": "STRING" } },
                                "derivedWords": {
                                    "type": "OBJECT",
                                    "properties": {
                                        "noun": { "type": "ARRAY", "items": { "type": "STRING" } },
                                        "verb": { "type": "ARRAY", "items": { "type": "STRING" } },
                                        "adjective": { "type": "ARRAY", "items": { "type": "STRING" } },
                                        "adverb": { "type": "ARRAY", "items": { "type": "STRING" } },
                                        "other": { "type": "ARRAY", "items": { "type": "STRING" } }
                                    }
                                },
                                "confusableWord": {
                                    "type": "OBJECT",
                                    "properties": {
                                        "word": { "type": "STRING" },
                                        "distinction": { "type": "STRING" }
                                    }
                                },
                                "thematicAssociation": {
                                    "type": "OBJECT",
                                    "properties": {
                                        "theme": { "type": "STRING" },
                                        "relatedWords": { "type": "ARRAY", "items": { "type": "STRING" } }
                                    }
                                }
                            }
                        },
                        "quadrant4": {
                            "type": "OBJECT",
                            "properties": {
                                "fillInTheBlankTest": {
                                    "type": "OBJECT",
                                    "properties": {
                                        "sentence": { "type": "STRING" },
                                        "answer": { "type": "STRING" },
                                        "choices": { "type": "ARRAY", "items": { "type": "STRING" } }
                                    }
                                },
                                "speakingTest": { "type": "STRING" }
                            }
                        }
                    },
                    "required": ["quadrant1", "quadrant2", "quadrant3", "quadrant4"]
                };

                const prompt = `è¯·ä¸ºä¿„è¯­å•è¯ "${word}" æä¾›ä¸€å¥—å®Œæ•´çš„åŠ©è®°ææ–™ï¼Œéµå¾ªâ€œå››è±¡é™å¤šæ„Ÿå®˜èƒŒè¯æ³•â€ï¼š

**ç¬¬ä¸€è±¡é™ï¼šæ„Ÿè§‰ç”»é¢**
1.  **è¯­å¢ƒä¸æ„Ÿè§‰:** æä¾›2-3ä¸ªç®€çŸ­ç”ŸåŠ¨çš„ä¾‹å¥ï¼ˆä¿„è¯­åŸæ–‡åŠä¸­æ–‡ç¿»è¯‘ï¼‰ï¼Œå¹¶ç”¨ä¸€å¥è¯æè¿°è¿™ä¸ªå•è¯ç»™äººçš„æ ¸å¿ƒæ„Ÿè§‰æˆ–ç”»é¢æ„Ÿã€‚
2.  **è¯æ±‡å…³ç³»:** åˆ—å‡ºå…¶æœ€æ ¸å¿ƒçš„3-5ä¸ªè¿‘ä¹‰è¯å’Œ3-5ä¸ªåä¹‰è¯ï¼ˆä¿„è¯­åŸæ–‡åŠä¸­æ–‡ç¿»è¯‘ï¼‰ã€‚
3.  **è¯æºæ•…äº‹:** ç®€è¦è§£é‡Šå…¶è¯æ ¹ã€è¯ç¼€çš„æ¥æºå’Œæ„ä¹‰ï¼ˆä¸­æ–‡ï¼‰ã€‚

**ç¬¬äºŒè±¡é™ï¼šé¡ºå£æºœ**
1.  **å‘éŸ³æ‹†è§£:** æä¾›ä¸€ä¸ªæ˜“äºè®°å¿†çš„éŸ³èŠ‚æ‹†åˆ†ï¼ˆä¿„è¯­éŸ³èŠ‚ï¼‰ã€‚
2.  **å›ºå®šæ­é…ä¸å£è¯€:** åˆ—å‡ºæœ€å¸¸è§çš„1-2ä¸ªå›ºå®šæ­é…ï¼ˆä¿„è¯­åŸæ–‡åŠä¸­æ–‡ç¿»è¯‘ï¼‰ï¼Œå¹¶åˆ›ä½œä¸€å¥ç®€çŸ­æŠ¼éŸµçš„ä¸­æ–‡å£è¯€æ¥å¸®åŠ©è®°å¿†ã€‚

**ç¬¬ä¸‰è±¡é™ï¼šé•¿å•¥æ ·**
1.  **æ‹¼å†™æ‹†åˆ†:** å°†å•è¯çš„æ‹¼å†™æ‹†åˆ†æˆå‡ ä¸ªæœ‰ç‰¹ç‚¹çš„å­—æ¯ç»„åˆå—ï¼ˆä¿„è¯­å­—æ¯ç»„åˆï¼‰ã€‚
2.  **æ´¾ç”Ÿè¯å®¶æ—:** åˆ—å‡ºå®ƒçš„åè¯ã€åŠ¨è¯ã€å½¢å®¹è¯æˆ–å‰¯è¯ç­‰ä¸åŒå½¢å¼ï¼ˆä¿„è¯­åŸæ–‡åŠä¸­æ–‡ç¿»è¯‘ï¼‰ã€‚
3.  **æ˜“æ··æ·†è¯è¾¨æ:** æ‰¾ä¸€ä¸ªä¸å®ƒæ‹¼å†™æˆ–å‘éŸ³ç›¸è¿‘çš„æ˜“æ··æ·†ä¿„è¯­è¯ï¼Œå¹¶ç®€è¦è¯´æ˜äºŒè€…åŒºåˆ«ï¼ˆä¸­æ–‡è§£é‡Šï¼‰ã€‚
4.  **ä¸»é¢˜è”æƒ³å›¾:** æ„æ€ä¸€ä¸ªç®€å•çš„è§†è§‰ä¸»é¢˜ï¼ˆä¸­æ–‡æè¿°ï¼‰ï¼Œå¹¶åˆ—å‡ºå¦å¤–3ä¸ªå¯ä»¥å’Œå®ƒä¸€èµ·æ‰“åŒ…è®°å¿†çš„ç›¸å…³ä¿„è¯­å•è¯åŠä¸­æ–‡ç¿»è¯‘ã€‚

**ç¬¬å››è±¡é™ï¼šåå¤ä¹ å¾—**
1.  **é€‰å­—æ¯ç»„è¯å¡«ç©º:** åˆ›å»ºä¸€ä¸ªå¡«ç©ºé¢˜ï¼ˆä¿„è¯­åŸæ–‡ï¼ŒæŒ–ç©ºæ­¤å•è¯ï¼‰ï¼Œæä¾›ä¸Šä¸‹æ–‡ã€‚åŒæ—¶ï¼Œç”Ÿæˆè¯¥å•è¯çš„**æ‰€æœ‰å•ä¸ªå­—æ¯**ï¼ˆä¾‹å¦‚ï¼šĞ´Ğ¾Ğ¼ -> ['Ğ´', 'Ğ¾', 'Ğ¼']ï¼‰ï¼Œå¹¶æ·»åŠ è‡³å°‘3ä¸ª**ä¸è¯¥å•è¯æ‰€æœ‰å­—æ¯å‡ä¸é‡å¤çš„éšæœºä¿„è¯­è¯¯å¯¼å­—æ¯**ï¼ˆä¾‹å¦‚ï¼š'Ğ¶', 'Ñ„', 'Ñ†'ï¼‰ï¼Œç¡®ä¿é€‰é¡¹æ€»æ•°ä¸ºå•è¯é•¿åº¦ + 3åˆ°5ä¸ªè¯¯å¯¼å­—æ¯ã€‚å°†æ‰€æœ‰å­—æ¯ï¼ˆåŒ…æ‹¬æ­£ç¡®çš„å’Œè¯¯å¯¼çš„ï¼‰æ‰“ä¹±ï¼Œå½¢æˆé€‰é¡¹ã€‚JSONä¸­å¿…é¡»åŒ…å« 'sentence' (æŒ–ç©ºå¥å­å’Œä¸­æ–‡ç¿»è¯‘), 'answer' (æ­£ç¡®å•è¯), 'choices' (ä¿„è¯­å•ä¸ªå­—æ¯ç»„æˆçš„æ•°ç»„)ã€‚
2.  **è¯»è¯´æµ‹è¯•:** æå‡ºä¸€ä¸ªå¼€æ”¾æ€§é—®é¢˜ï¼Œå¦‚â€œè¯·ç”¨[åœ¨æ­¤å¤„æ’å…¥æ–°å•è¯]å£å¤´é€ ä¸€ä¸ªä¿„è¯­å¥å­ï¼Œå¹¶è§£é‡Šå®ƒçš„æ„æ€ï¼ˆä¸­æ–‡ï¼‰ã€‚â€

è¯·ä¸¥æ ¼æŒ‰ç…§æˆ‘å®šä¹‰çš„ JSON Schema æ ¼å¼è¿”å›æ‰€æœ‰ä¿¡æ¯ï¼Œä¸è¦åŒ…å«ä»»ä½•é¢å¤–æ–‡å­—æˆ–è§£é‡Šï¼Œåªè¿”å› JSON å¯¹è±¡ã€‚`;

                const result = await callGeminiAPI(prompt, schema);
                fourQuadrantLoading.classList.add('hidden'); // Hide loading spinner

                if (result) {
                    let htmlContent = '';

                    // Quadrant 1: æ„Ÿè§‰ç”»é¢
                    if (result.quadrant1) {
                        htmlContent += `
                            <div class="quadrant-section">
                                <h3>ç¬¬ä¸€è±¡é™ï¼šæ„Ÿè§‰ç”»é¢</h3>
                                <p><strong>1. è¯­å¢ƒä¸æ„Ÿè§‰:</strong></p>
                                <ul>
                                    ${result.quadrant1.contextAndFeeling.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                                <p>æ ¸å¿ƒæ„Ÿè§‰/ç”»é¢æ„Ÿ: ${result.quadrant1.coreFeeling}</p>
                                <p><strong>2. è¯æ±‡å…³ç³»:</strong></p>
                                <p>è¿‘ä¹‰è¯: ${result.quadrant1.vocabularyRelations.synonyms.join('; ')}</p>
                                <p>åä¹‰è¯: ${result.quadrant1.vocabularyRelations.antonyms.join('; ')}</p>
                                <p><strong>3. è¯æºæ•…äº‹:</strong> ${result.quadrant1.etymology}</p>
                            </div>
                        `;
                    }

                    // Quadrant 2: é¡ºå£æºœ
                    if (result.quadrant2) {
                        htmlContent += `
                            <div class="quadrant-section">
                                <h3>ç¬¬äºŒè±¡é™ï¼šé¡ºå£æºœ</h3>
                                <p><strong>1. å‘éŸ³æ‹†è§£:</strong> ${result.quadrant2.pronunciationBreakdown}</p>
                                <p><strong>2. å›ºå®šæ­é…ä¸å£è¯€:</strong></p>
                                <ul>
                                    ${result.quadrant2.collocationsAndRhyme.collocations.map(s => `<li>${s}</li>`).join('')}
                                </ul>
                                <p>å£è¯€: <strong>"${result.quadrant2.collocationsAndRhyme.mnemonicRhyme}"</strong></p>
                            </div>
                        `;
                    }

                    // Quadrant 3: é•¿å•¥æ ·
                    if (result.quadrant3) {
                        htmlContent += `
                            <div class="quadrant-section">
                                <h3>ç¬¬ä¸‰è±¡é™ï¼šé•¿å•¥æ ·</h3>
                                <p><strong>1. æ‹¼å†™æ‹†åˆ†:</strong> ${result.quadrant3.spellingBreakdown.join(' - ')}</p>
                                <p><strong>2. æ´¾ç”Ÿè¯å®¶æ—:</strong></p>
                                <ul>
                                    ${Object.entries(result.quadrant3.derivedWords).map(([type, words]) => {
                                        if (words && words.length > 0) {
                                            return `<li>${type.charAt(0).toUpperCase() + type.slice(1)}: ${words.join(', ')}</li>`;
                                        }
                                        return '';
                                    }).join('')}
                                </ul>
                                <p><strong>3. æ˜“æ··æ·†è¯è¾¨æ:</strong></p>
                                <p>è¯: <strong>${result.quadrant3.confusableWord.word}</strong></p>
                                <p>åŒºåˆ«: ${result.quadrant3.confusableWord.distinction}</p>
                                <p><strong>4. ä¸»é¢˜è”æƒ³å›¾:</strong></p>
                                <p>ä¸»é¢˜: ${result.quadrant3.thematicAssociation.theme}</p>
                                <p>ç›¸å…³å•è¯: ${result.quadrant3.thematicAssociation.relatedWords.join(', ')}</p>
                            </div>
                        `;
                    }

                    // Quadrant 4: åå¤ä¹ å¾—
                    if (result.quadrant4 && result.quadrant4.fillInTheBlankTest) {
                        const test = result.quadrant4.fillInTheBlankTest;
                        const originalWord = test.answer;
                        
                        let choicesHtml = '';
                        if (test.choices && Array.isArray(test.choices)) {
                            choicesHtml = shuffleArray(test.choices).map(char => `<div class="letter-choice" data-char="${char}">${char}</div>`).join('');
                        } else {
                            console.warn("LLM did not return valid choices for fill-in-the-blank test.");
                            choicesHtml = '<p class="text-red-500">æ— æ³•åŠ è½½å­—æ¯é€‰é¡¹ã€‚</p>'; // Fallback message
                        }

                        htmlContent += `
                            <div class="quadrant-section">
                                <h3>ç¬¬å››è±¡é™ï¼šåå¤ä¹ å¾—</h3>
                                <p><strong>1. é€‰å­—æ¯ç»„è¯å¡«ç©º:</strong></p>
                                <p class="mb-4">${test.sentence.replace(originalWord, '<span id="fillInTheBlankPlaceholder" class="fill-in-the-blank-word">______</span>')}</p>
                                <div id="letterChoices" class="letter-choices">
                                    ${choicesHtml}
                                </div>
                                <div class="flex justify-center mt-4 space-x-4">
                                    <button id="checkFillInTheBlankBtn" class="button-primary bg-blue-500 hover:bg-blue-600">æ£€æŸ¥</button>
                                    <button id="resetFillInTheBlankBtn" class="button-primary bg-gray-500 hover:bg-gray-600">é‡ç½®</button>
                                </div>
                                <p id="fillInTheBlankFeedback" class="text-lg font-semibold h-6 mt-4"></p>
                                <p><strong>2. è¯»è¯´æµ‹è¯•:</strong></p>
                                <p>${result.quadrant4.speakingTest.replace('[åœ¨æ­¤å¤„æ’å…¥æ–°å•è¯]', word)}</p>
                            </div>
                        `;
                    }
                    fourQuadrantOutput.innerHTML = htmlContent;

                    // Add event listeners for the fill-in-the-blank game after content is loaded
                    if (result.quadrant4 && result.quadrant4.fillInTheBlankTest) {
                        // Retrieve elements *after* they are rendered in the DOM
                        const letterChoicesContainer = document.getElementById('letterChoices');
                        const fillInTheBlankPlaceholder = document.getElementById('fillInTheBlankPlaceholder');
                        const checkFillInTheBlankBtn = document.getElementById('checkFillInTheBlankBtn');
                        const resetFillInTheBlankBtn = document.getElementById('resetFillInTheBlankBtn');
                        const fillInTheBlankFeedback = document.getElementById('fillInTheBlankFeedback');

                        let selectedLetters = [];
                        const correctWord = result.quadrant4.fillInTheBlankTest.answer;

                        if (letterChoicesContainer) { // Defensive check
                            letterChoicesContainer.addEventListener('click', (event) => {
                                const target = event.target;
                                if (target.classList.contains('letter-choice') && !target.classList.contains('selected')) {
                                    target.classList.add('selected');
                                    selectedLetters.push(target.dataset.char);
                                    if (fillInTheBlankPlaceholder) { // Defensive check
                                        fillInTheBlankPlaceholder.textContent = selectedLetters.join('');
                                    }
                                }
                            });
                        }

                        if (checkFillInTheBlankBtn) { // Defensive check
                            checkFillInTheBlankBtn.addEventListener('click', () => {
                                const userAnswer = selectedLetters.join('');
                                if (fillInTheBlankFeedback) { // Defensive check
                                    if (userAnswer === correctWord) {
                                        fillInTheBlankFeedback.textContent = 'æ­£ç¡®ï¼';
                                        fillInTheBlankFeedback.classList.remove('text-red-600');
                                        fillInTheBlankFeedback.classList.add('text-green-600');
                                        if (fillInTheBlankPlaceholder) { // Defensive check
                                            fillInTheBlankPlaceholder.classList.add('correct');
                                        }
                                        if (letterChoicesContainer) { // Defensive check
                                            letterChoicesContainer.querySelectorAll('.letter-choice').forEach(choice => {
                                                choice.style.pointerEvents = 'none'; // Disable all choices
                                                // Highlight only letters that are part of the correct word and were selected
                                                if (correctWord.includes(choice.dataset.char) && selectedLetters.includes(choice.dataset.char)) {
                                                    choice.classList.add('correct');
                                                }
                                            });
                                        }
                                        checkFillInTheBlankBtn.disabled = true;
                                        if (resetFillInTheBlankBtn) resetFillInTheBlankBtn.disabled = true; // No need to reset after correct
                                    } else {
                                        fillInTheBlankFeedback.textContent = `é”™è¯¯ã€‚æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correctWord}ã€‚è¯·é‡è¯•ã€‚`;
                                        fillInTheBlankFeedback.classList.remove('text-green-600');
                                        fillInTheBlankFeedback.classList.add('text-red-600');
                                        if (fillInTheBlankPlaceholder) { // Defensive check
                                            fillInTheBlankPlaceholder.classList.add('incorrect');
                                        }
                                        // Do not disable choices, let user try again.
                                    }
                                }
                            });
                        }

                        if (resetFillInTheBlankBtn) { // Defensive check
                            resetFillInTheBlankBtn.addEventListener('click', () => {
                                selectedLetters = [];
                                if (fillInTheBlankPlaceholder) { // Defensive check
                                    fillInTheBlankPlaceholder.textContent = '______';
                                    fillInTheBlankPlaceholder.classList.remove('correct', 'incorrect');
                                }
                                if (fillInTheBlankFeedback) { // Defensive check
                                    fillInTheBlankFeedback.textContent = '';
                                }
                                if (letterChoicesContainer) { // Defensive check
                                    letterChoicesContainer.querySelectorAll('.letter-choice').forEach(choice => {
                                        choice.classList.remove('selected', 'correct', 'incorrect');
                                        choice.style.pointerEvents = 'auto'; // Re-enable choices
                                    });
                                }
                                if (checkFillInTheBlankBtn) checkFillInTheBlankBtn.disabled = false;
                            });
                        }
                    }

                } else {
                    fourQuadrantOutput.innerHTML = `<p class="text-red-500 text-center">ç”ŸæˆåŠ©è®°ææ–™å¤±è´¥ï¼Œè¯·ç¨åå†è¯•æˆ–å°è¯•å…¶ä»–å•è¯ã€‚</p>`;
                }
            });
        }


        // åˆ‡æ¢æ¨¡å¼åŠŸèƒ½
        function switchMode(mode, initialWord = '') { // æ¥å— initialWord å‚æ•°
            currentMode = mode;
            // ç§»é™¤æ‰€æœ‰æ¨¡å¼æŒ‰é’®çš„ active çŠ¶æ€
            document.querySelectorAll('.mode-button').forEach(btn => {
                // æ’é™¤ "æ·»åŠ å•è¯" æŒ‰é’®
                if (btn.id !== 'openAddWordModalBtn') {
                    btn.classList.remove('active');
                }
            });
            // ä¸ºå½“å‰æ¨¡å¼æŒ‰é’®æ·»åŠ  active çŠ¶æ€
            const currentModeButton = document.getElementById(`${mode}ModeBtn`);
            if (currentModeButton) { // ç¡®ä¿æŒ‰é’®å­˜åœ¨
                currentModeButton.classList.add('active');
            }


            gameArea.classList.remove('fade-in'); // ç§»é™¤åŠ¨ç”»ç±»ä»¥ä¾¿é‡æ–°åº”ç”¨
            void gameArea.offsetWidth; // è§¦å‘å›æµä»¥é‡ç½®åŠ¨ç”»
            gameArea.classList.add('fade-in'); // æ·»åŠ åŠ¨ç”»ç±»

            // ç¡®ä¿åœ¨åˆ‡æ¢æ¨¡å¼æ—¶å…³é—­æ‰€æœ‰æ¨¡æ€æ¡†
            addWordModal.classList.remove('show');
            relatedWordsModal.classList.remove('show');
            writingTopicModal.classList.remove('show');

            switch (mode) {
                case 'flashcard':
                    loadFlashcardMode();
                    break;
                case 'matchingGame':
                    loadMatchingGameMode();
                    break;
                case 'speakingPractice':
                    loadSpeakingPracticeMode();
                    break;
                case 'writingPractice':
                    loadWritingPracticeMode(); // è¿›å…¥å†™ä½œæ¨¡å¼æ—¶å…ˆæ˜¾ç¤ºä¸»é¢˜é€‰æ‹©æ¨¡æ€æ¡†
                    break;
                case 'wordLookup': // è¯æ±‡æŸ¥è¯¢æ¨¡å¼
                    loadWordLookupMode();
                    break;
                case 'fourQuadrant': // æ–°å¢çš„å››è±¡é™æ¨¡å¼
                    loadFourQuadrantMode(initialWord); // ä¼ é€’ initialWord
                    break;
                default:
                    loadFlashcardMode();
            }
        }

        // äº‹ä»¶ç›‘å¬å™¨ï¼šæ¨¡å¼é€‰æ‹©æŒ‰é’®
        flashcardModeBtn.addEventListener('click', () => switchMode('flashcard'));
        matchingGameModeBtn.addEventListener('click', () => switchMode('matchingGame'));
        speakingPracticeModeBtn.addEventListener('click', () => switchMode('speakingPractice'));
        writingPracticeModeBtn.addEventListener('click', () => switchMode('writingPractice'));
        wordLookupModeBtn.addEventListener('click', () => switchMode('wordLookup'));
        fourQuadrantModeBtn.addEventListener('click', () => switchMode('fourQuadrant')); // å››è±¡é™æ¨¡å¼æŒ‰é’®äº‹ä»¶

        // é¡µé¢åŠ è½½å®Œæˆåï¼Œé»˜è®¤åŠ è½½æŠ½è®¤å¡æ¨¡å¼
        document.addEventListener('DOMContentLoaded', () => {
            switchMode(currentMode);
        });
    </script>
</body>
</html>
